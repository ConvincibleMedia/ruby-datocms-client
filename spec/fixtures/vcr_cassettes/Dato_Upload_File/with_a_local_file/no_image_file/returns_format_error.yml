---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/account
    body:
      encoding: UTF-8
      string: '{"data":{"type":"account","attributes":{"email":"CDKTKFXR@example.com","company":"DatoCMS","password":"veryst_9rong_passowrd4_"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      Etag:
      - W/"983bdc36335068ee3573de5e58c6d258"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e8bb89de-cc76-40ce-9cc2-7550eb14f8ae
      X-Runtime:
      - '0.244738'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSjkuZXlKMklqb3hM
        Q0pwSWpveE1UVTNNaXdpWnlJNklqSXdNVGt0TVRFdE1UaFVNVFU2TWpZNk5U
        Y3VNekV6S3pBeE9qQXdJbjAuY3RWTzcwZC1QNkpEaE9JUkI3TW40SmZQVUdE
        ZmJLa2RVTmxnQW1xQXJmVSIsInR5cGUiOiJzZXNzaW9uIiwicmVsYXRpb25z
        aGlwcyI6eyJhY2NvdW50Ijp7ImRhdGEiOnsiaWQiOiIxMTU3MiIsInR5cGUi
        OiJhY2NvdW50In19fX0sImluY2x1ZGVkIjpbeyJpZCI6IjExNTcyIiwidHlw
        ZSI6ImFjY291bnQiLCJhdHRyaWJ1dGVzIjp7ImVtYWlsIjoiQ0RLVEtGWFJA
        ZXhhbXBsZS5jb20iLCJmaXJzdF9uYW1lIjpudWxsLCJsYXN0X25hbWUiOm51
        bGwsImNvbXBhbnkiOiJEYXRvQ01TIiwicHJvdmlzaW9uaW5nXzJmYV91cmki
        OiJvdHBhdXRoOi8vdG90cC9EYXRvQ01TOkNES1RLRlhSQGV4YW1wbGUuY29t
        P3NlY3JldD1MVUszVklGTDRQWlpHSTVDTVlEQllFNFRaTllGQlpNSiZpc3N1
        ZXI9RGF0b0NNUyIsImlzXzJmYV9hY3RpdmUiOmZhbHNlfX1dfQ==
    http_version: 
  recorded_at: Mon, 18 Nov 2019 14:26:57 GMT
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site","attributes":{"name":"Test site"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer eyJhbGciOiJIUzI1NiJ9.eyJ2IjoxLCJpIjoxMTU3MiwiZyI6IjIwMTktMTEtMThUMTU6MjY6NTcuMzEzKzAxOjAwIn0.ctVO70d-P6JDhOIRB7Mn4JfPUGDfbKkdUNlgAmqArfU
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"134f09561cb72ad542b7ad9599a64715"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f3427bbb-00df-4d2e-aab3-e1bb98befc88
      X-Runtime:
      - '0.173809'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTcyODgiLCJ0eXBlIjoic2l0ZSIsImF0dHJpYnV0
        ZXMiOnsibmFtZSI6IlRlc3Qgc2l0ZSIsImRvbWFpbiI6bnVsbCwiaW50ZXJu
        YWxfc3ViZG9tYWluIjoidGVzdC1zaXRlLTcyIiwibGFzdF9kYXRhX2NoYW5n
        ZV9hdCI6IjIwMTktMTEtMThUMTQ6MjY6NTcuNDc3WiIsIm5vdGVzIjpudWxs
        LCJhY2Nlc3NfdG9rZW4iOiJleUpoYkdjaU9pSklVekkxTmlKOS5leUoySWpv
        eExDSnpJam94TnpJNE9Dd2lhU0k2TVRFMU56SXNJblFpT2lKaElpd2laeUk2
        SWpJd01Ua3RNVEV0TVRoVU1UVTZNalk2TlRjdU5EZ3hLekF4T2pBd0luMC4x
        MjZkRnBoNE1LMF9FN0M5Rll3TVFkeE80Q3JyQjBQMkI5ZVpRQjlkbE1vIiwi
        aW50ZXJuYWxfZG9tYWluIjoidGVzdC1zaXRlLTcyLmFkbWluLmRhdG9jbXMu
        Y29tIiwiY3JlYXRlZF9hdCI6IjIwMTktMTEtMThUMTQ6MjY6NTcuNDM4WiIs
        InJlYWR3cml0ZV90b2tlbiI6IjdkZmI0YTJlY2NmZjk1YjY3MzIzMmZjMTE5
        MjE5NSIsInJlYWRvbmx5X3Rva2VuIjoiMjMwYTkwZWU1YmU4Y2Y2N2UwYWRl
        NzYwNjVmMGZhIiwiZGVhY3RpdmF0ZWQiOmZhbHNlfSwicmVsYXRpb25zaGlw
        cyI6eyJhY3RpdmVfc3Vic2NyaXB0aW9uIjp7ImRhdGEiOnsiaWQiOiIxOTE1
        MyIsInR5cGUiOiJzdWJzY3JpcHRpb24ifX0sImFjdGl2ZV9wbGFuIjp7ImRh
        dGEiOnsiaWQiOiIxIiwidHlwZSI6InBsYW4ifX0sInVzYWdlIjp7ImRhdGEi
        OnsiaWQiOiIxLTAtMC0wLTAtMC0wLTAtMTcyODgiLCJ0eXBlIjoic3Vic2Ny
        aXB0aW9uX2NvbXBhdGliaWxpdHkifX0sInRyYW5zZmVyIjp7ImRhdGEiOm51
        bGx9LCJvd25lciI6eyJkYXRhIjp7ImlkIjoiMTE1NzIiLCJ0eXBlIjoiYWNj
        b3VudCJ9fX19fQ==
    http_version: 
  recorded_at: Mon, 18 Nov 2019 14:26:57 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/upload-requests
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload_request","attributes":{"filename":"file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 7dfb4a2eccff95b673232fc1192195
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"e9ad1a94daa6f1e8d81d35c8acd9ee7b"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 730d350e-7890-4b71-aa65-a196da1a831f
      X-Runtime:
      - '0.044467'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiLzE3Mjg4LzE1NzQwODcyMTctZmlsZS50eHQiLCJ0
        eXBlIjoidXBsb2FkX3JlcXVlc3QiLCJhdHRyaWJ1dGVzIjp7InVybCI6Imh0
        dHBzOi8vZGF0by1pbWFnZXMuczMuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20v
        MTcyODgvMTU3NDA4NzIxNy1maWxlLnR4dD94LWFtei1hY2w9cHVibGljLXJl
        YWQmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3Jl
        ZGVudGlhbD1BS0lBSU5YUVgyWk5YTkVCQ1ZKQSUyRjIwMTkxMTE4JTJGZXUt
        d2VzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDE5MTEx
        OFQxNDI2NTdaJlgtQW16LUV4cGlyZXM9OTAwJlgtQW16LVNpZ25lZEhlYWRl
        cnM9aG9zdCZYLUFtei1TaWduYXR1cmU9YjczMDIzNzYzZjE2NzRjZDg5MTFi
        OTBiNDIxMjUxZTVjMDAyZGU2MWQyY2U1NGVjYzE5NWJjMGE0OGViMDRjMSJ9
        fX0=
    http_version: 
  recorded_at: Mon, 18 Nov 2019 14:26:57 GMT
- request:
    method: put
    uri: https://dato-images.s3.eu-west-1.amazonaws.com/17288/1574087217-file.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAINXQX2ZNXNEBCVJA/20191118/eu-west-1/s3/aws4_request&X-Amz-Date=20191118T142657Z&X-Amz-Expires=900&X-Amz-Signature=b73023763f1674cd8911b90b421251e5c002de61d2ce54ecc195bc0a48eb04c1&X-Amz-SignedHeaders=host&x-amz-acl=public-read
    body:
      encoding: UTF-8
      string: 'Hi there!

'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - dato-images.s3.eu-west-1.amazonaws.com
      Content-Type:
      - text/plain
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - ZTlw60elhdcyeFtYLY76DKKDVnJPAVRJn9x750g1CvH2NJQO7S6qwFzMovZIr3nsRqj6qeOH6oM=
      X-Amz-Request-Id:
      - 3F7F73DB883360CA
      Date:
      - Mon, 18 Nov 2019 14:26:58 GMT
      Etag:
      - '"2b87e29fca6ee7f1df6c1a76cb58e101"'
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Mon, 18 Nov 2019 14:26:57 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/uploads
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload","attributes":{"path":"/17288/1574087217-file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 7dfb4a2eccff95b673232fc1192195
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '27'
      Etag:
      - W/"4bc0d5d4a51f84605310004f55be5f57"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - be70f80e-bc7d-442f-9e8b-76f7977c1aaa
      X-Runtime:
      - '0.607599'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiOTgwMzk0IiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTcyODgvMTU3NDA4NzIxNy1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImF1dGhvciI6bnVsbCwibm90ZXMiOm51bGwsImNvcHlyaWdodCI6
        bnVsbCwiZGVmYXVsdF9maWVsZF9tZXRhZGF0YSI6eyJlbiI6eyJhbHQiOm51
        bGwsInRpdGxlIjpudWxsLCJjdXN0b21fZGF0YSI6e319fSwiaXNfaW1hZ2Ui
        OmZhbHNlLCJjcmVhdGVkX2F0IjoiMjAxOS0xMS0xOFQxNDoyNjo1OC40MjNa
        IiwidXBkYXRlZF9hdCI6IjIwMTktMTEtMThUMTQ6MjY6NTguNDIzWiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xNzI4OC8xNTc0
        MDg3MjE3LWZpbGUudHh0IiwidGFncyI6W10sImZpbGVuYW1lIjoiZmlsZS50
        eHQiLCJiYXNlbmFtZSI6ImZpbGUiLCJleGlmX2luZm8iOnt9LCJtaW1lX3R5
        cGUiOiJ0ZXh0L3BsYWluIiwiY29sb3JzIjpbXSwic21hcnRfdGFncyI6W10s
        ImR1cmF0aW9uIjpudWxsLCJmcmFtZV9yYXRlIjpudWxsLCJtdXhfcGxheWJh
        Y2tfaWQiOm51bGwsImJsdXJoYXNoIjpudWxsLCJtdXhfbXA0X2hpZ2hlc3Rf
        cmVzIjpudWxsfX19
    http_version: 
  recorded_at: Mon, 18 Nov 2019 14:26:58 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/uploads/980394
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 7dfb4a2eccff95b673232fc1192195
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '26'
      Etag:
      - W/"4bc0d5d4a51f84605310004f55be5f57"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 750dee54-3f67-449d-a2c1-e2a14ec480be
      X-Runtime:
      - '0.027634'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiOTgwMzk0IiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTcyODgvMTU3NDA4NzIxNy1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImF1dGhvciI6bnVsbCwibm90ZXMiOm51bGwsImNvcHlyaWdodCI6
        bnVsbCwiZGVmYXVsdF9maWVsZF9tZXRhZGF0YSI6eyJlbiI6eyJhbHQiOm51
        bGwsInRpdGxlIjpudWxsLCJjdXN0b21fZGF0YSI6e319fSwiaXNfaW1hZ2Ui
        OmZhbHNlLCJjcmVhdGVkX2F0IjoiMjAxOS0xMS0xOFQxNDoyNjo1OC40MjNa
        IiwidXBkYXRlZF9hdCI6IjIwMTktMTEtMThUMTQ6MjY6NTguNDIzWiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xNzI4OC8xNTc0
        MDg3MjE3LWZpbGUudHh0IiwidGFncyI6W10sImZpbGVuYW1lIjoiZmlsZS50
        eHQiLCJiYXNlbmFtZSI6ImZpbGUiLCJleGlmX2luZm8iOnt9LCJtaW1lX3R5
        cGUiOiJ0ZXh0L3BsYWluIiwiY29sb3JzIjpbXSwic21hcnRfdGFncyI6W10s
        ImR1cmF0aW9uIjpudWxsLCJmcmFtZV9yYXRlIjpudWxsLCJtdXhfcGxheWJh
        Y2tfaWQiOm51bGwsImJsdXJoYXNoIjpudWxsLCJtdXhfbXA0X2hpZ2hlc3Rf
        cmVzIjpudWxsfX19
    http_version: 
  recorded_at: Mon, 18 Nov 2019 14:26:58 GMT
recorded_with: VCR 5.0.0
