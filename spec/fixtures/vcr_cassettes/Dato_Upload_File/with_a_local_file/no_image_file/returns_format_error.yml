---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/account
    body:
      encoding: UTF-8
      string: '{"data":{"type":"account","attributes":{"email":"ELSOJEGE@example.com","company":"DatoCMS","password":"veryst_9rong_passowrd4_"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer
      User-Agent:
      - ruby-client v0.7.3
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      Etag:
      - W/"1c69d7de48b36698444061a1810a4be3"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 96a1bb1e-cfc0-4286-bf3c-e329ed2658c2
      X-Runtime:
      - '0.083939'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6
        STFOaUo5LmV5SjJJam94TENKcElqbzVOamswTENKbklqb2lNakF4T1Mwd055
        MHdNMVF3T1RveE1EbzBPQzR6T0RRck1ESTZNREFpZlEubEgteFRJeGFrRGZw
        elZhc1I0b0lqNDE3MTNYSU4weERIWEZ3b2RSaEpnNCIsInR5cGUiOiJzZXNz
        aW9uIiwicmVsYXRpb25zaGlwcyI6eyJhY2NvdW50Ijp7ImRhdGEiOnsiaWQi
        OiI5Njk0IiwidHlwZSI6ImFjY291bnQifX19fSwiaW5jbHVkZWQiOlt7Imlk
        IjoiOTY5NCIsInR5cGUiOiJhY2NvdW50IiwiYXR0cmlidXRlcyI6eyJlbWFp
        bCI6IkVMU09KRUdFQGV4YW1wbGUuY29tIiwiZmlyc3RfbmFtZSI6bnVsbCwi
        bGFzdF9uYW1lIjpudWxsLCJjb21wYW55IjoiRGF0b0NNUyIsInByb3Zpc2lv
        bmluZ18yZmFfdXJpIjoib3RwYXV0aDovL3RvdHAvRGF0b0NNUzpFTFNPSkVH
        RUBleGFtcGxlLmNvbT9zZWNyZXQ9dHpvamJ6cW9hMnFwMzRpbiZpc3N1ZXI9
        RGF0b0NNUyIsImlzXzJmYV9hY3RpdmUiOmZhbHNlfX1dfQ==
    http_version: 
  recorded_at: Wed, 03 Jul 2019 07:10:48 GMT
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site","attributes":{"name":"Test site"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2IjoxLCJpIjo5Njk0LCJnIjoiMjAxOS0wNy0wM1QwOToxMDo0OC4zODQrMDI6MDAifQ.lH-xTIxakDfpzVasR4oIj41713XIN0xDHXFwodRhJg4
      User-Agent:
      - ruby-client v0.7.3
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"3f7b5131d869c05d9d82384b231031c0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - '09f01225-cf42-409d-8bb8-ec7b58dcd190'
      X-Runtime:
      - '0.259939'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTM0MTUiLCJ0eXBlIjoic2l0ZSIsImF0dHJpYnV0
        ZXMiOnsibmFtZSI6IlRlc3Qgc2l0ZSIsImRvbWFpbiI6bnVsbCwiaW50ZXJu
        YWxfc3ViZG9tYWluIjoidGVzdC1zaXRlLTkxIiwibGFzdF9kYXRhX2NoYW5n
        ZV9hdCI6IjIwMTktMDctMDNUMDc6MTA6NDguNjI2WiIsIm5vdGVzIjpudWxs
        LCJhY2Nlc3NfdG9rZW4iOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJ
        VXpJMU5pSjkuZXlKMklqb3hMQ0p6SWpveE16UXhOU3dpYVNJNk9UWTVOQ3dp
        ZENJNkltRWlMQ0puSWpvaU1qQXhPUzB3Tnkwd00xUXdPVG94TURvME9DNDJN
        ekVyTURJNk1EQWlmUS5rS1l6UnFGR25DNVJEM3ZnODJBc0RQYlpvS1B6Vkxo
        djhkMm5JbVVaREJFIiwiaW50ZXJuYWxfZG9tYWluIjoidGVzdC1zaXRlLTkx
        LmFkbWluLmRhdG9jbXMuY29tIiwiY3JlYXRlZF9hdCI6IjIwMTktMDctMDNU
        MDc6MTA6NDguNTc2WiIsInJlYWR3cml0ZV90b2tlbiI6ImE2YjhjYWExOGU3
        ODVkNzJmZWU2MGNjN2U1MTU0NCIsInJlYWRvbmx5X3Rva2VuIjoiOWQzZWJl
        YmU0MzUyNjUwYWE1NzAxNmVlMzY0NDE4IiwiZGVhY3RpdmF0ZWQiOmZhbHNl
        fSwicmVsYXRpb25zaGlwcyI6eyJhY3RpdmVfc3Vic2NyaXB0aW9uIjp7ImRh
        dGEiOnsiaWQiOiIxNDg1MSIsInR5cGUiOiJzdWJzY3JpcHRpb24ifX0sImFj
        dGl2ZV9wbGFuIjp7ImRhdGEiOnsiaWQiOiIxIiwidHlwZSI6InBsYW4ifX0s
        InVzYWdlIjp7ImRhdGEiOnsiaWQiOiIxLTAtMC0wLTAtMC0wLTEzNDE1Iiwi
        dHlwZSI6InN1YnNjcmlwdGlvbl9jb21wYXRpYmlsaXR5In19LCJ0cmFuc2Zl
        ciI6eyJkYXRhIjpudWxsfSwib3duZXIiOnsiZGF0YSI6eyJpZCI6Ijk2OTQi
        LCJ0eXBlIjoiYWNjb3VudCJ9fX19fQ==
    http_version: 
  recorded_at: Wed, 03 Jul 2019 07:10:48 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/upload-requests
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload_request","attributes":{"filename":"file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer a6b8caa18e785d72fee60cc7e51544
      User-Agent:
      - ruby-client v0.7.3
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"c8cf9dc834275b8899f3722285650bbe"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - bae27cf6-e14b-4736-8f32-e350356eea1f
      X-Runtime:
      - '0.055203'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiLzEzNDE1LzE1NjIxMzc4NDgtZmlsZS50eHQiLCJ0
        eXBlIjoidXBsb2FkX3JlcXVlc3QiLCJhdHRyaWJ1dGVzIjp7InVybCI6Imh0
        dHBzOi8vZGF0by1pbWFnZXMuczMuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20v
        MTM0MTUvMTU2MjEzNzg0OC1maWxlLnR4dD94LWFtei1hY2w9cHVibGljLXJl
        YWQmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3Jl
        ZGVudGlhbD1BS0lBSU5YUVgyWk5YTkVCQ1ZKQSUyRjIwMTkwNzAzJTJGZXUt
        d2VzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDE5MDcw
        M1QwNzEwNDhaJlgtQW16LUV4cGlyZXM9OTAwJlgtQW16LVNpZ25lZEhlYWRl
        cnM9aG9zdCZYLUFtei1TaWduYXR1cmU9ZWU4MTZlOGZlOTMzODMzZDA4NWUx
        Y2I2ODViMGIyMjUwNGM5ZjA1ZWUxODA1YzE3ODg3YmUyN2ZhMDFmMmRmYiJ9
        fX0=
    http_version: 
  recorded_at: Wed, 03 Jul 2019 07:10:48 GMT
- request:
    method: put
    uri: https://dato-images.s3.eu-west-1.amazonaws.com/13415/1562137848-file.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAINXQX2ZNXNEBCVJA/20190703/eu-west-1/s3/aws4_request&X-Amz-Date=20190703T071048Z&X-Amz-Expires=900&X-Amz-Signature=ee816e8fe933833d085e1cb685b0b22504c9f05ee1805c17887be27fa01f2dfb&X-Amz-SignedHeaders=host&x-amz-acl=public-read
    body:
      encoding: UTF-8
      string: 'Hi there!

'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - dato-images.s3.eu-west-1.amazonaws.com
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - JhJDn6HVwK9fNjP6sG5gKezKQkEcrS6ZvvTIxn45FZb8u0j8YCN22wruJJPbH+otYo1B7TeCVe8=
      X-Amz-Request-Id:
      - F20428D4DD6FB29A
      Date:
      - Wed, 03 Jul 2019 07:10:49 GMT
      Etag:
      - '"2b87e29fca6ee7f1df6c1a76cb58e101"'
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Wed, 03 Jul 2019 07:10:49 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/uploads
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload","attributes":{"path":"/13415/1562137848-file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer a6b8caa18e785d72fee60cc7e51544
      User-Agent:
      - ruby-client v0.7.3
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '27'
      Etag:
      - W/"4525de8229dd90a7b225dd963f9e709c"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - baca38ae-50ad-47e3-b984-50e35f4431f8
      X-Runtime:
      - '0.317574'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiNzYyOTU5IiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTM0MTUvMTU2MjEzNzg0OC1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImFsdCI6bnVsbCwidGl0bGUiOm51bGwsImlzX2ltYWdlIjpmYWxz
        ZSwiY3JlYXRlZF9hdCI6IjIwMTktMDctMDNUMDc6MTA6NDkuMzU1WiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xMzQxNS8xNTYy
        MTM3ODQ4LWZpbGUudHh0In19fQ==
    http_version: 
  recorded_at: Wed, 03 Jul 2019 07:10:49 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/uploads/762959
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer a6b8caa18e785d72fee60cc7e51544
      User-Agent:
      - ruby-client v0.7.3
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '26'
      Etag:
      - W/"4525de8229dd90a7b225dd963f9e709c"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c1741c22-7e31-4011-9a72-0c46bb22dd9a
      X-Runtime:
      - '0.024492'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiNzYyOTU5IiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTM0MTUvMTU2MjEzNzg0OC1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImFsdCI6bnVsbCwidGl0bGUiOm51bGwsImlzX2ltYWdlIjpmYWxz
        ZSwiY3JlYXRlZF9hdCI6IjIwMTktMDctMDNUMDc6MTA6NDkuMzU1WiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xMzQxNS8xNTYy
        MTM3ODQ4LWZpbGUudHh0In19fQ==
    http_version: 
  recorded_at: Wed, 03 Jul 2019 07:10:49 GMT
recorded_with: VCR 4.0.0
