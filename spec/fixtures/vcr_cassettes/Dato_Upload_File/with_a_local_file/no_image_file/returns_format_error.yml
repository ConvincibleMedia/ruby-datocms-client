---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/account
    body:
      encoding: UTF-8
      string: '{"data":{"type":"account","attributes":{"email":"EAVFMNDG@example.com","name":"Test","company":"DatoCMS","password":"veryst_9rong_passowrd4_"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      Etag:
      - W/"e0b93a6e88a363e1272716f11585a6f8"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 110b3c66-b2c4-4494-a031-d4476a1751eb
      X-Runtime:
      - '1.065652'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6
        STFOaUo5LmV5SmhZMk52ZFc1MFgybGtJam8zTmpJMUxDSm5aVzVsY21GMFpX
        UmZZWFFpT2lJeU1ERTVMVEF6TFRJNVZERTJPakF4T2pVekxqUXlOeXN3TVRv
        d01DSjkubjhuUHUybDJmdTZKdWk5YU1mVnlQdGFMZlhpOHNfYm9TTHJxMG84
        X1Y5RSIsInR5cGUiOiJzZXNzaW9uIiwicmVsYXRpb25zaGlwcyI6eyJhY2Nv
        dW50Ijp7ImRhdGEiOnsiaWQiOiI3NjI1IiwidHlwZSI6ImFjY291bnQifX19
        fSwiaW5jbHVkZWQiOlt7ImlkIjoiNzYyNSIsInR5cGUiOiJhY2NvdW50Iiwi
        YXR0cmlidXRlcyI6eyJlbWFpbCI6IkVBVkZNTkRHQGV4YW1wbGUuY29tIiwi
        bmFtZSI6IlRlc3QiLCJjb21wYW55IjoiRGF0b0NNUyJ9fV19
    http_version: 
  recorded_at: Fri, 29 Mar 2019 15:01:53 GMT
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site","attributes":{"name":"Test site"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhY2NvdW50X2lkIjo3NjI1LCJnZW5lcmF0ZWRfYXQiOiIyMDE5LTAzLTI5VDE2OjAxOjUzLjQyNyswMTowMCJ9.n8nPu2l2fu6Jui9aMfVyPtaLfXi8s_boSLrq0o8_V9E
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"b20a0acc1ed33b94d123264c47ecfb2e"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2ba5b6cd-2c9a-4a57-9656-5909133b8d60
      X-Runtime:
      - '0.923054'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTEyNDciLCJ0eXBlIjoic2l0ZSIsImF0dHJpYnV0
        ZXMiOnsibmFtZSI6IlRlc3Qgc2l0ZSIsImRvbWFpbiI6bnVsbCwiaW50ZXJu
        YWxfc3ViZG9tYWluIjoidGVzdC1zaXRlLTQwMSIsImxhc3RfZGF0YV9jaGFu
        Z2VfYXQiOiIyMDE5LTAzLTI5VDE1OjAxOjU0LjI4OFoiLCJub3RlcyI6bnVs
        bCwiYWNjZXNzX3Rva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lK
        SVV6STFOaUo5LmV5SnphWFJsWDJsa0lqb3hNVEkwTnl3aVlXTmpiM1Z1ZENJ
        NmRISjFaU3dpWjJWdVpYSmhkR1ZrWDJGMElqb2lNakF4T1Mwd015MHlPVlF4
        Tmpvd01UbzFOQzR6TkRBck1ERTZNREFpZlEuaHBDblYzb3Bza0NuLXdsSHZL
        UTZXd0xrNzlJZHRfdk92WlFUV3RDamYzVSIsImludGVybmFsX2RvbWFpbiI6
        InRlc3Qtc2l0ZS00MDEuYWRtaW4uZGF0b2Ntcy5jb20iLCJjcmVhdGVkX2F0
        IjoiMjAxOS0wMy0yOVQxNTowMTo1NC4yODhaIiwicmVhZHdyaXRlX3Rva2Vu
        IjoiOTNmMjAxNjQ1Yzk4YTEyMzYwYmNkYzViOWUwMGJkIiwicmVhZG9ubHlf
        dG9rZW4iOiJkNTIxN2RmMjAxMmQyMzUzODZhMjM3MWFjNGZiMjgiLCJkZWFj
        dGl2YXRlZCI6ZmFsc2V9LCJyZWxhdGlvbnNoaXBzIjp7ImFjdGl2ZV9zdWJz
        Y3JpcHRpb24iOnsiZGF0YSI6eyJpZCI6IjEyNDAwIiwidHlwZSI6InN1YnNj
        cmlwdGlvbiJ9fSwiYWN0aXZlX3BsYW4iOnsiZGF0YSI6eyJpZCI6IjEyIiwi
        dHlwZSI6InBsYW4ifX0sInVzYWdlIjp7ImRhdGEiOnsiaWQiOiIxMi0xMTI0
        NyIsInR5cGUiOiJwbGFuX2NvbXBhdGliaWxpdHkifX0sInRyYW5zZmVyIjp7
        ImRhdGEiOm51bGx9fX19
    http_version: 
  recorded_at: Fri, 29 Mar 2019 15:01:54 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/upload-requests
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload_request","attributes":{"filename":"file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 93f201645c98a12360bcdc5b9e00bd
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      Etag:
      - W/"fb2f3fa9f8c42368cb8f9087b52845c0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e092f243-0e3c-4f35-974d-d7950e8a128e
      X-Runtime:
      - '0.054607'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiLzExMjQ3LzE1NTM4NzE3MTQtZmlsZS50eHQiLCJ0
        eXBlIjoidXBsb2FkX3JlcXVlc3QiLCJhdHRyaWJ1dGVzIjp7InVybCI6Imh0
        dHBzOi8vZGF0by1pbWFnZXMuczMtZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20v
        MTEyNDcvMTU1Mzg3MTcxNC1maWxlLnR4dD9YLUFtei1BbGdvcml0aG09QVdT
        NC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJTlhRWDJaTlhO
        RUJDVkpBJTJGMjAxOTAzMjklMkZldS13ZXN0LTElMkZzMyUyRmF3czRfcmVx
        dWVzdCZYLUFtei1EYXRlPTIwMTkwMzI5VDE1MDE1NFomWC1BbXotRXhwaXJl
        cz05MDAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JTNCeC1hbXotYWNsJlgt
        QW16LVNpZ25hdHVyZT1jYmNiZDcwN2E5NThlZjM2NmE2MjRiZjM4NWE4N2Ri
        YzcwOGZiZGQxMDUxNTdhMzY5OWM0YzY5MWQ4NTFlMGNmIn19fQ==
    http_version: 
  recorded_at: Fri, 29 Mar 2019 15:01:54 GMT
- request:
    method: put
    uri: https://dato-images.s3-eu-west-1.amazonaws.com/11247/1553871714-file.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAINXQX2ZNXNEBCVJA/20190329/eu-west-1/s3/aws4_request&X-Amz-Date=20190329T150154Z&X-Amz-Expires=900&X-Amz-Signature=cbcbd707a958ef366a624bf385a87dbc708fbdd105157a3699c4c691d851e0cf&X-Amz-SignedHeaders=host%3Bx-amz-acl
    body:
      encoding: UTF-8
      string: 'Hi there!

'
    headers:
      X-Amz-Acl:
      - public-read
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - dato-images.s3-eu-west-1.amazonaws.com
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - VCKouga7j6mMV5Y4ghJ7omUxz3A/hEuqKFCgjrQNt7L4kX2d5Zer6+3PXY7xS9wPgPdAUXCDs3E=
      X-Amz-Request-Id:
      - 8E37A85EB27FF020
      Date:
      - Fri, 29 Mar 2019 15:01:55 GMT
      Etag:
      - '"2b87e29fca6ee7f1df6c1a76cb58e101"'
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Fri, 29 Mar 2019 15:01:54 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/uploads
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload","attributes":{"size":10,"path":"/11247/1553871714-file.txt","format":"txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 93f201645c98a12360bcdc5b9e00bd
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"1b08afbecc457c380445cdfd89bdd3d0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d1ad7144-5530-4518-9fc7-e0f60aab7713
      X-Runtime:
      - '0.034181'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiNjExMjUyIiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTEyNDcvMTU1Mzg3MTcxNC1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImFsdCI6bnVsbCwidGl0bGUiOm51bGwsImlzX2ltYWdlIjpmYWxz
        ZSwiY3JlYXRlZF9hdCI6IjIwMTktMDMtMjlUMTU6MDE6NTQuNzQ1WiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xMTI0Ny8xNTUz
        ODcxNzE0LWZpbGUudHh0In19fQ==
    http_version: 
  recorded_at: Fri, 29 Mar 2019 15:01:54 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/uploads/611252
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 93f201645c98a12360bcdc5b9e00bd
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '27'
      Etag:
      - W/"1b08afbecc457c380445cdfd89bdd3d0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9f3a3a9a-7544-46cc-9ef5-126ef1344182
      X-Runtime:
      - '0.027904'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiNjExMjUyIiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTEyNDcvMTU1Mzg3MTcxNC1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImFsdCI6bnVsbCwidGl0bGUiOm51bGwsImlzX2ltYWdlIjpmYWxz
        ZSwiY3JlYXRlZF9hdCI6IjIwMTktMDMtMjlUMTU6MDE6NTQuNzQ1WiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xMTI0Ny8xNTUz
        ODcxNzE0LWZpbGUudHh0In19fQ==
    http_version: 
  recorded_at: Fri, 29 Mar 2019 15:01:54 GMT
recorded_with: VCR 4.0.0
