---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/account
    body:
      encoding: UTF-8
      string: '{"data":{"type":"account","attributes":{"email":"EYYGEYXQ@example.com","company":"DatoCMS","password":"veryst_9rong_passowrd4_"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      Etag:
      - W/"43be25ad44491d87175c3b53ebb0a36d"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 690436ce-efbf-4f77-8b4b-6ae6ed6d8c11
      X-Runtime:
      - '0.246059'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSjkuZXlKMklqb3hM
        Q0pwSWpveE1UWXlPU3dpWnlJNklqSXdNVGt0TVRJdE1ESlVNVEk2TVRnNk5U
        RXVOemMxS3pBeE9qQXdJbjAuU1FjN194czFhRzlzZVNtbi11YXY5U2VBZWtm
        VER0QVlDRHgxUTRXdWlKWSIsInR5cGUiOiJzZXNzaW9uIiwicmVsYXRpb25z
        aGlwcyI6eyJhY2NvdW50Ijp7ImRhdGEiOnsiaWQiOiIxMTYyOSIsInR5cGUi
        OiJhY2NvdW50In19fX0sImluY2x1ZGVkIjpbeyJpZCI6IjExNjI5IiwidHlw
        ZSI6ImFjY291bnQiLCJhdHRyaWJ1dGVzIjp7ImVtYWlsIjoiRVlZR0VZWFFA
        ZXhhbXBsZS5jb20iLCJmaXJzdF9uYW1lIjpudWxsLCJsYXN0X25hbWUiOm51
        bGwsImNvbXBhbnkiOiJEYXRvQ01TIiwicHJvdmlzaW9uaW5nXzJmYV91cmki
        OiJvdHBhdXRoOi8vdG90cC9EYXRvQ01TOkVZWUdFWVhRQGV4YW1wbGUuY29t
        P3NlY3JldD1LR0JYQ1ZPVE9VNzM1QVVHTEE2STU3UllNWEdISEpCMiZpc3N1
        ZXI9RGF0b0NNUyIsImlzXzJmYV9hY3RpdmUiOmZhbHNlfX1dfQ==
    http_version: 
  recorded_at: Mon, 02 Dec 2019 11:18:51 GMT
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site","attributes":{"name":"Test site"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer eyJhbGciOiJIUzI1NiJ9.eyJ2IjoxLCJpIjoxMTYyOSwiZyI6IjIwMTktMTItMDJUMTI6MTg6NTEuNzc1KzAxOjAwIn0.SQc7_xs1aG9seSmn-uav9SeAekfTDtAYCDx1Q4WuiJY
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"4da56dfa84996e62da79c5b136f0ceda"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - db86484d-8e31-4416-8955-57248eb7478d
      X-Runtime:
      - '0.077293'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTczMzgiLCJ0eXBlIjoic2l0ZSIsImF0dHJpYnV0
        ZXMiOnsibmFtZSI6IlRlc3Qgc2l0ZSIsImRvbWFpbiI6bnVsbCwiaW50ZXJu
        YWxfc3ViZG9tYWluIjoidGVzdC1zaXRlLTgyNzMiLCJsYXN0X2RhdGFfY2hh
        bmdlX2F0IjoiMjAxOS0xMi0wMlQxMToxODo1MS44NDNaIiwibm90ZXMiOm51
        bGwsImFjY2Vzc190b2tlbiI6ImV5SmhiR2NpT2lKSVV6STFOaUo5LmV5SjJJ
        am94TENKeklqb3hOek16T0N3aWFTSTZNVEUyTWprc0luUWlPaUpoSWl3aVp5
        STZJakl3TVRrdE1USXRNREpVTVRJNk1UZzZOVEV1T0RRMkt6QXhPakF3SW4w
        LjJHaWJRTWZic0txUHRCSnpxQnV5bGw3bWtyUTZRY2RoMTBXNDhGVGx5MXci
        LCJpbnRlcm5hbF9kb21haW4iOiJ0ZXN0LXNpdGUtODI3My5hZG1pbi5kYXRv
        Y21zLmNvbSIsImNyZWF0ZWRfYXQiOiIyMDE5LTEyLTAyVDExOjE4OjUxLjgw
        NloiLCJyZWFkd3JpdGVfdG9rZW4iOiJhMzRmZmIxMDBjMzFkMDA1ZTRlZDNk
        NGY5Y2JkMGYiLCJyZWFkb25seV90b2tlbiI6IjBiNmM3YjhjNTk0OWEwN2Fh
        NGVmODYzOGJlODRhYSIsImRlYWN0aXZhdGVkIjpmYWxzZX0sInJlbGF0aW9u
        c2hpcHMiOnsiYWN0aXZlX3N1YnNjcmlwdGlvbiI6eyJkYXRhIjp7ImlkIjoi
        MTkyMDMiLCJ0eXBlIjoic3Vic2NyaXB0aW9uIn19LCJhY3RpdmVfcGxhbiI6
        eyJkYXRhIjp7ImlkIjoiMSIsInR5cGUiOiJwbGFuIn19LCJ1c2FnZSI6eyJk
        YXRhIjp7ImlkIjoiMS0wLTAtMC0wLTAtMC0wLTE3MzM4IiwidHlwZSI6InN1
        YnNjcmlwdGlvbl9jb21wYXRpYmlsaXR5In19LCJ0cmFuc2ZlciI6eyJkYXRh
        IjpudWxsfSwib3duZXIiOnsiZGF0YSI6eyJpZCI6IjExNjI5IiwidHlwZSI6
        ImFjY291bnQifX19fX0=
    http_version: 
  recorded_at: Mon, 02 Dec 2019 11:18:51 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/upload-requests
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload_request","attributes":{"filename":"file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer a34ffb100c31d005e4ed3d4f9cbd0f
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"0b0c76a65a3635c857567d20648b5e32"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - fccd5583-490c-4202-b8f7-ecd4b0dd7369
      X-Runtime:
      - '0.050549'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiLzE3MzM4LzE1NzUyODU1MzEtZmlsZS50eHQiLCJ0
        eXBlIjoidXBsb2FkX3JlcXVlc3QiLCJhdHRyaWJ1dGVzIjp7InVybCI6Imh0
        dHBzOi8vZGF0by1pbWFnZXMuczMuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20v
        MTczMzgvMTU3NTI4NTUzMS1maWxlLnR4dD94LWFtei1hY2w9cHVibGljLXJl
        YWQmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3Jl
        ZGVudGlhbD1BS0lBSU5YUVgyWk5YTkVCQ1ZKQSUyRjIwMTkxMjAyJTJGZXUt
        d2VzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDE5MTIw
        MlQxMTE4NTFaJlgtQW16LUV4cGlyZXM9OTAwJlgtQW16LVNpZ25lZEhlYWRl
        cnM9aG9zdCZYLUFtei1TaWduYXR1cmU9YzY4NDE2OTM5ZWJiNjk3MDE0ODBh
        ZjBlZTA0ZTIyNmI5ZjdhYWIyOTdiY2I5Njg4MTkwMmY4M2QwZWJiNDRlYSJ9
        fX0=
    http_version: 
  recorded_at: Mon, 02 Dec 2019 11:18:51 GMT
- request:
    method: put
    uri: https://dato-images.s3.eu-west-1.amazonaws.com/17338/1575285531-file.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAINXQX2ZNXNEBCVJA/20191202/eu-west-1/s3/aws4_request&X-Amz-Date=20191202T111851Z&X-Amz-Expires=900&X-Amz-Signature=c68416939ebb69701480af0ee04e226b9f7aab297bcb96881902f83d0ebb44ea&X-Amz-SignedHeaders=host&x-amz-acl=public-read
    body:
      encoding: UTF-8
      string: 'Hi there!

'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - dato-images.s3.eu-west-1.amazonaws.com
      Content-Type:
      - text/plain
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - bKuz3F3q0cfzD56g8IEzG2r3lM74Y0THSjoP/DhvkybqczbKyorYiw8RD2sE0Flhc1Hw1lnN9wI=
      X-Amz-Request-Id:
      - 116C501087777962
      Date:
      - Mon, 02 Dec 2019 11:18:53 GMT
      Etag:
      - '"2b87e29fca6ee7f1df6c1a76cb58e101"'
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Mon, 02 Dec 2019 11:18:52 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/uploads
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload","attributes":{"path":"/17338/1575285531-file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer a34ffb100c31d005e4ed3d4f9cbd0f
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '27'
      Etag:
      - W/"b5e9a78808dc9f2cc092134ef4c8d8da"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - aa55afc3-26bd-4ee2-ab04-94ca941a2d00
      X-Runtime:
      - '0.588286'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiOTgwNDQ0IiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTczMzgvMTU3NTI4NTUzMS1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImF1dGhvciI6bnVsbCwibm90ZXMiOm51bGwsImNvcHlyaWdodCI6
        bnVsbCwiZGVmYXVsdF9maWVsZF9tZXRhZGF0YSI6eyJlbiI6eyJhbHQiOm51
        bGwsInRpdGxlIjpudWxsLCJjdXN0b21fZGF0YSI6e319fSwiaXNfaW1hZ2Ui
        OmZhbHNlLCJjcmVhdGVkX2F0IjoiMjAxOS0xMi0wMlQxMToxODo1Mi44MDNa
        IiwidXBkYXRlZF9hdCI6IjIwMTktMTItMDJUMTE6MTg6NTIuODAzWiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xNzMzOC8xNTc1
        Mjg1NTMxLWZpbGUudHh0IiwidGFncyI6W10sImZpbGVuYW1lIjoiZmlsZS50
        eHQiLCJiYXNlbmFtZSI6ImZpbGUiLCJleGlmX2luZm8iOnt9LCJtaW1lX3R5
        cGUiOiJ0ZXh0L3BsYWluIiwiY29sb3JzIjpbXSwic21hcnRfdGFncyI6W10s
        ImR1cmF0aW9uIjpudWxsLCJmcmFtZV9yYXRlIjpudWxsLCJtdXhfcGxheWJh
        Y2tfaWQiOm51bGwsImJsdXJoYXNoIjpudWxsLCJtdXhfbXA0X2hpZ2hlc3Rf
        cmVzIjpudWxsfX19
    http_version: 
  recorded_at: Mon, 02 Dec 2019 11:18:52 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/uploads/980444
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer a34ffb100c31d005e4ed3d4f9cbd0f
      User-Agent:
      - ruby-client v0.7.8
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '26'
      Etag:
      - W/"b5e9a78808dc9f2cc092134ef4c8d8da"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 0f4a9d8a-509d-4b0c-aa26-24b6292e57d4
      X-Runtime:
      - '0.032879'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiOTgwNDQ0IiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTczMzgvMTU3NTI4NTUzMS1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImF1dGhvciI6bnVsbCwibm90ZXMiOm51bGwsImNvcHlyaWdodCI6
        bnVsbCwiZGVmYXVsdF9maWVsZF9tZXRhZGF0YSI6eyJlbiI6eyJhbHQiOm51
        bGwsInRpdGxlIjpudWxsLCJjdXN0b21fZGF0YSI6e319fSwiaXNfaW1hZ2Ui
        OmZhbHNlLCJjcmVhdGVkX2F0IjoiMjAxOS0xMi0wMlQxMToxODo1Mi44MDNa
        IiwidXBkYXRlZF9hdCI6IjIwMTktMTItMDJUMTE6MTg6NTIuODAzWiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xNzMzOC8xNTc1
        Mjg1NTMxLWZpbGUudHh0IiwidGFncyI6W10sImZpbGVuYW1lIjoiZmlsZS50
        eHQiLCJiYXNlbmFtZSI6ImZpbGUiLCJleGlmX2luZm8iOnt9LCJtaW1lX3R5
        cGUiOiJ0ZXh0L3BsYWluIiwiY29sb3JzIjpbXSwic21hcnRfdGFncyI6W10s
        ImR1cmF0aW9uIjpudWxsLCJmcmFtZV9yYXRlIjpudWxsLCJtdXhfcGxheWJh
        Y2tfaWQiOm51bGwsImJsdXJoYXNoIjpudWxsLCJtdXhfbXA0X2hpZ2hlc3Rf
        cmVzIjpudWxsfX19
    http_version: 
  recorded_at: Mon, 02 Dec 2019 11:18:52 GMT
recorded_with: VCR 5.0.0
