---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/account
    body:
      encoding: UTF-8
      string: '{"data":{"type":"account","attributes":{"email":"JWZZXXVU@example.com","company":"DatoCMS","password":"veryst_9rong_passowrd4_"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer
      User-Agent:
      - ruby-client v0.7.10
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '60'
      X-Ratelimit-Remaining:
      - '59'
      Etag:
      - W/"ab31dcb383fdf47302fa71044f437cf0"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 063f382d-a15f-48b6-b2e8-2f406346bc42
      X-Runtime:
      - '0.224956'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Fri, 20 Mar 2020 10:32:40 GMT
      Content-Length:
      - '387'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSjkuZXlKMklqb3hM
        Q0pwSWpveE56TXlPU3dpWnlJNklqSXdNakF0TURNdE1qQlVNVEU2TXpJNk5E
        QXVNVFl3S3pBeE9qQXdJbjAuMFdRZDltcHl6R1haVWx3UkxsTFFrRVpCN1J0
        MEtvZTRBZE1jRC1RWUZtdyIsInR5cGUiOiJzZXNzaW9uIiwicmVsYXRpb25z
        aGlwcyI6eyJhY2NvdW50Ijp7ImRhdGEiOnsiaWQiOiIxNzMyOSIsInR5cGUi
        OiJhY2NvdW50In19fX0sImluY2x1ZGVkIjpbeyJpZCI6IjE3MzI5IiwidHlw
        ZSI6ImFjY291bnQiLCJhdHRyaWJ1dGVzIjp7ImVtYWlsIjoiSldaWlhYVlVA
        ZXhhbXBsZS5jb20iLCJmaXJzdF9uYW1lIjpudWxsLCJsYXN0X25hbWUiOm51
        bGwsImNvbXBhbnkiOiJEYXRvQ01TIiwicHJvdmlzaW9uaW5nXzJmYV91cmki
        OiJvdHBhdXRoOi8vdG90cC9EYXRvQ01TOkpXWlpYWFZVQGV4YW1wbGUuY29t
        P3NlY3JldD1STUdPT1dTTjMzS0c0WjQ3WjdCVDZERUlBRVBWRU4yViZpc3N1
        ZXI9RGF0b0NNUyIsImlzXzJmYV9hY3RpdmUiOmZhbHNlfX1dfQ==
    http_version: 
  recorded_at: Fri, 20 Mar 2020 10:32:40 GMT
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site","attributes":{"name":"Test site"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer eyJhbGciOiJIUzI1NiJ9.eyJ2IjoxLCJpIjoxNzMyOSwiZyI6IjIwMjAtMDMtMjBUMTE6MzI6NDAuMTYwKzAxOjAwIn0.0WQd9mpyzGXZUlwRLlLQkEZB7Rt0Koe4AdMcD-QYFmw
      User-Agent:
      - ruby-client v0.7.10
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '60'
      X-Ratelimit-Remaining:
      - '58'
      Etag:
      - W/"a4d651bb66302ca54211435ffcb6af28"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 7efb83f5-ba5a-48b4-a0f1-9ff609c173a2
      X-Runtime:
      - '0.060947'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Fri, 20 Mar 2020 10:32:40 GMT
      Content-Length:
      - '520'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMjQ0MjciLCJ0eXBlIjoic2l0ZSIsImF0dHJpYnV0
        ZXMiOnsibmFtZSI6IlRlc3Qgc2l0ZSIsImRvbWFpbiI6bnVsbCwiaW50ZXJu
        YWxfc3ViZG9tYWluIjoidGVzdC1zaXRlLTU4MzIiLCJsYXN0X2RhdGFfY2hh
        bmdlX2F0IjoiMjAyMC0wMy0yMFQxMDozMjo0MC4yMjZaIiwibm90ZXMiOm51
        bGwsImFjY2Vzc190b2tlbiI6ImV5SmhiR2NpT2lKSVV6STFOaUo5LmV5SjJJ
        am94TENKeklqb3lORFF5Tnl3aWFTSTZNVGN6TWprc0luUWlPaUpoSWl3aVp5
        STZJakl3TWpBdE1ETXRNakJVTVRFNk16STZOREF1TWpJNEt6QXhPakF3SW4w
        LndnMWJnVmY0UzN5VFREOHh4aDFvNGlzMExGQVcwc3JRblZmZGx0M2xyWFki
        LCJpbnRlcm5hbF9kb21haW4iOiJ0ZXN0LXNpdGUtNTgzMi5hZG1pbi5kYXRv
        Y21zLmNvbSIsImNyZWF0ZWRfYXQiOiIyMDIwLTAzLTIwVDEwOjMyOjQwLjIw
        M1oiLCJyZWFkd3JpdGVfdG9rZW4iOiIwNmZlMDM5NmY1MDU4YjUzYWYzNmJk
        NzI4MzhlYzgiLCJyZWFkb25seV90b2tlbiI6IjRlYWNhZDJiNGUxMWRiZmQw
        M2RiNjYxZGJjZmM4MyIsImRlYWN0aXZhdGVkIjpmYWxzZX0sInJlbGF0aW9u
        c2hpcHMiOnsiYWN0aXZlX3N1YnNjcmlwdGlvbiI6eyJkYXRhIjp7ImlkIjoi
        MjcxMzAiLCJ0eXBlIjoic3Vic2NyaXB0aW9uIn19LCJhY3RpdmVfcGxhbiI6
        eyJkYXRhIjp7ImlkIjoiMSIsInR5cGUiOiJwbGFuIn19LCJ1c2FnZSI6eyJk
        YXRhIjp7ImlkIjoiMS0wLTAtMC0wLTAtMC0wLTI0NDI3IiwidHlwZSI6InN1
        YnNjcmlwdGlvbl9jb21wYXRpYmlsaXR5In19LCJ0cmFuc2ZlciI6eyJkYXRh
        IjpudWxsfSwib3duZXIiOnsiZGF0YSI6eyJpZCI6IjE3MzI5IiwidHlwZSI6
        ImFjY291bnQifX19fX0=
    http_version: 
  recorded_at: Fri, 20 Mar 2020 10:32:40 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/upload-requests
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload_request","attributes":{"filename":"file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 06fe0396f5058b53af36bd72838ec8
      User-Agent:
      - ruby-client v0.7.10
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '60'
      X-Ratelimit-Remaining:
      - '58'
      Etag:
      - W/"c3aec501d3bf1dd6051c64fce80ad16a"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f62e3c5b-7c07-42b2-8c26-d7d7c50f8fba
      X-Runtime:
      - '0.037290'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Fri, 20 Mar 2020 10:32:40 GMT
      Content-Length:
      - '339'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiLzI0NDI3LzE1ODQ3MDAzNjAtZmlsZS50eHQiLCJ0
        eXBlIjoidXBsb2FkX3JlcXVlc3QiLCJhdHRyaWJ1dGVzIjp7InVybCI6Imh0
        dHBzOi8vZGF0b3NybC1pbWFnZXMuczMuZXUtd2VzdC0xLmFtYXpvbmF3cy5j
        b20vMjQ0MjcvMTU4NDcwMDM2MC1maWxlLnR4dD94LWFtei1hY2w9cHVibGlj
        LXJlYWQmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXot
        Q3JlZGVudGlhbD1BS0lBMldFUDJGWjRJWjVTMjJPSCUyRjIwMjAwMzIwJTJG
        ZXUtd2VzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDIw
        MDMyMFQxMDMyNDBaJlgtQW16LUV4cGlyZXM9OTAwJlgtQW16LVNpZ25lZEhl
        YWRlcnM9aG9zdCZYLUFtei1TaWduYXR1cmU9ZjFiZmIzMTIxZWFkMWUxMGZm
        YzBlOTM1ODNiYWUwMTc0ZGE1MmYwNjU2N2EzMTAwMDI0MTIwMWQ1MGFkMDk3
        NiJ9fX0=
    http_version: 
  recorded_at: Fri, 20 Mar 2020 10:32:40 GMT
- request:
    method: put
    uri: https://datosrl-images.s3.eu-west-1.amazonaws.com/24427/1584700360-file.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIA2WEP2FZ4IZ5S22OH/20200320/eu-west-1/s3/aws4_request&X-Amz-Date=20200320T103240Z&X-Amz-Expires=900&X-Amz-Signature=f1bfb3121ead1e10ffc0e93583bae0174da52f06567a31000241201d50ad0976&X-Amz-SignedHeaders=host&x-amz-acl=public-read
    body:
      encoding: UTF-8
      string: 'Hi there!

        '
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - datosrl-images.s3.eu-west-1.amazonaws.com
      Content-Type:
      - text/plain
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - SEAWl7OxUKb0CqSoVfJr1gvGYektiiMrSaYdw1xPI23nyxvc4tQUzhhFuL4GtySqtLiz1ceTxCE=
      X-Amz-Request-Id:
      - 3002FA38C7EDCFDF
      Date:
      - Fri, 20 Mar 2020 10:32:41 GMT
      Etag:
      - '"2b87e29fca6ee7f1df6c1a76cb58e101"'
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Fri, 20 Mar 2020 10:32:40 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/uploads
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload","attributes":{"path":"/24427/1584700360-file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 06fe0396f5058b53af36bd72838ec8
      User-Agent:
      - ruby-client v0.7.10
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '60'
      X-Ratelimit-Remaining:
      - '57'
      Etag:
      - W/"6c73f02d9cc573dfd5be1f3e0417eb03"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 56e0415d-7c98-4828-aca1-b35d15f06209
      X-Runtime:
      - '0.452309'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Fri, 20 Mar 2020 10:32:40 GMT
      Content-Length:
      - '368'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTQ3NjEyNCIsInR5cGUiOiJ1cGxvYWQiLCJhdHRy
        aWJ1dGVzIjp7InNpemUiOjEwLCJ3aWR0aCI6bnVsbCwiaGVpZ2h0IjpudWxs
        LCJwYXRoIjoiLzI0NDI3LzE1ODQ3MDAzNjAtZmlsZS50eHQiLCJmb3JtYXQi
        OiJ0eHQiLCJhdXRob3IiOm51bGwsIm5vdGVzIjpudWxsLCJjb3B5cmlnaHQi
        Om51bGwsImRlZmF1bHRfZmllbGRfbWV0YWRhdGEiOnsiZW4iOnsiYWx0Ijpu
        dWxsLCJ0aXRsZSI6bnVsbCwiY3VzdG9tX2RhdGEiOnt9fX0sImlzX2ltYWdl
        IjpmYWxzZSwiY3JlYXRlZF9hdCI6IjIwMjAtMDMtMjBUMTA6MzI6NDAuOTgz
        WiIsInVwZGF0ZWRfYXQiOiIyMDIwLTAzLTIwVDEwOjMyOjQwLjk4M1oiLCJ1
        cmwiOiJodHRwczovL3d3dy5kYXRvY21zLWFzc2V0cy5jb20vMjQ0MjcvMTU4
        NDcwMDM2MC1maWxlLnR4dCIsInRhZ3MiOltdLCJmaWxlbmFtZSI6ImZpbGUu
        dHh0IiwiYmFzZW5hbWUiOiJmaWxlIiwiZXhpZl9pbmZvIjp7fSwibWltZV90
        eXBlIjoidGV4dC9wbGFpbiIsImNvbG9ycyI6W10sInNtYXJ0X3RhZ3MiOltd
        LCJkdXJhdGlvbiI6bnVsbCwiZnJhbWVfcmF0ZSI6bnVsbCwibXV4X3BsYXli
        YWNrX2lkIjpudWxsLCJibHVyaGFzaCI6bnVsbCwibXV4X21wNF9oaWdoZXN0
        X3JlcyI6bnVsbH19fQ==
    http_version: 
  recorded_at: Fri, 20 Mar 2020 10:32:40 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/uploads/1476124
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 06fe0396f5058b53af36bd72838ec8
      User-Agent:
      - ruby-client v0.7.10
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '60'
      X-Ratelimit-Remaining:
      - '56'
      Etag:
      - W/"904e2190cc221bdcfb148aed0572ee5a"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 907a5554-a579-4b23-9ee1-66b05be463a6
      X-Runtime:
      - '0.025310'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Fri, 20 Mar 2020 10:32:41 GMT
      Content-Length:
      - '368'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTQ3NjEyNCIsInR5cGUiOiJ1cGxvYWQiLCJhdHRy
        aWJ1dGVzIjp7InNpemUiOjEwLCJ3aWR0aCI6bnVsbCwiaGVpZ2h0IjpudWxs
        LCJwYXRoIjoiLzI0NDI3LzE1ODQ3MDAzNjAtZmlsZS50eHQiLCJmb3JtYXQi
        OiJ0eHQiLCJhdXRob3IiOm51bGwsIm5vdGVzIjpudWxsLCJjb3B5cmlnaHQi
        Om51bGwsImRlZmF1bHRfZmllbGRfbWV0YWRhdGEiOnsiZW4iOnsiYWx0Ijpu
        dWxsLCJ0aXRsZSI6bnVsbCwiY3VzdG9tX2RhdGEiOnt9fX0sImlzX2ltYWdl
        IjpmYWxzZSwiY3JlYXRlZF9hdCI6IjIwMjAtMDMtMjBUMTA6MzI6NDAuOTgz
        WiIsInVwZGF0ZWRfYXQiOiIyMDIwLTAzLTIwVDEwOjMyOjQwLjk4M1oiLCJ1
        cmwiOiJodHRwczovL3d3dy5kYXRvY21zLWFzc2V0cy5jb20vMjQ0MjcvMTU4
        NDcwMDM2MC1maWxlLnR4dCIsInRhZ3MiOltdLCJmaWxlbmFtZSI6ImZpbGUu
        dHh0IiwiYmFzZW5hbWUiOiJmaWxlIiwiZXhpZl9pbmZvIjp7fSwibWltZV90
        eXBlIjoidGV4dC9wbGFpbiIsImNvbG9ycyI6W10sInNtYXJ0X3RhZ3MiOltd
        LCJkdXJhdGlvbiI6bnVsbCwiZnJhbWVfcmF0ZSI6bnVsbCwibXV4X3BsYXli
        YWNrX2lkIjpudWxsLCJibHVyaGFzaCI6bnVsbCwibXV4X21wNF9oaWdoZXN0
        X3JlcyI6bnVsbH19fQ==
    http_version: 
  recorded_at: Fri, 20 Mar 2020 10:32:41 GMT
recorded_with: VCR 5.0.0
