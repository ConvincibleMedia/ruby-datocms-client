---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/account
    body:
      encoding: UTF-8
      string: '{"data":{"type":"account","attributes":{"email":"HCWBJJNH@example.com","name":"Test","company":"DatoCMS","password":"veryst_9rong_passowrd4_"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '27'
      Etag:
      - W/"e55d645b350c958604b92d4cb3ccf064"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - efff087f-09a6-4406-9d4c-5407ba843d2c
      X-Runtime:
      - '0.894516'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6
        STFOaUo5LmV5SmhZMk52ZFc1MFgybGtJam8zTXprMkxDSm5aVzVsY21GMFpX
        UmZZWFFpT2lJeU1ERTVMVEF6TFRJM1ZERXhPak13T2pNMkxqWTVOQ3N3TVRv
        d01DSjkuMzVmWFptdzNNaE4tb3BTUjhUbkVlMXNNZWFDblJzV1NycjFWU3Ru
        MTF0OCIsInR5cGUiOiJzZXNzaW9uIiwicmVsYXRpb25zaGlwcyI6eyJhY2Nv
        dW50Ijp7ImRhdGEiOnsiaWQiOiI3Mzk2IiwidHlwZSI6ImFjY291bnQifX19
        fSwiaW5jbHVkZWQiOlt7ImlkIjoiNzM5NiIsInR5cGUiOiJhY2NvdW50Iiwi
        YXR0cmlidXRlcyI6eyJlbWFpbCI6IkhDV0JKSk5IQGV4YW1wbGUuY29tIiwi
        bmFtZSI6IlRlc3QiLCJjb21wYW55IjoiRGF0b0NNUyJ9fV19
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:30:36 GMT
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site","attributes":{"name":"Test site"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhY2NvdW50X2lkIjo3Mzk2LCJnZW5lcmF0ZWRfYXQiOiIyMDE5LTAzLTI3VDExOjMwOjM2LjY5NCswMTowMCJ9.35fXZmw3MhN-opSR8TnEe1sMeaCnRsWSrr1VStn11t8
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      Etag:
      - W/"62c72c19e88a74010073bb3996565377"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 92f2d93f-14dc-4818-a04b-13d672fdb7b4
      X-Runtime:
      - '0.776204'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTEwNDAiLCJ0eXBlIjoic2l0ZSIsImF0dHJpYnV0
        ZXMiOnsibmFtZSI6IlRlc3Qgc2l0ZSIsImRvbWFpbiI6bnVsbCwiaW50ZXJu
        YWxfc3ViZG9tYWluIjoidGVzdC1zaXRlLTI0OSIsImxhc3RfZGF0YV9jaGFu
        Z2VfYXQiOiIyMDE5LTAzLTI3VDEwOjMwOjM3LjQwOFoiLCJub3RlcyI6bnVs
        bCwiYWNjZXNzX3Rva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lK
        SVV6STFOaUo5LmV5SnphWFJsWDJsa0lqb3hNVEEwTUN3aVlXTmpiM1Z1ZENJ
        NmRISjFaU3dpWjJWdVpYSmhkR1ZrWDJGMElqb2lNakF4T1Mwd015MHlOMVF4
        TVRvek1Eb3pOeTQwTlRNck1ERTZNREFpZlEuVU5ITzVMem9vZElnVzlIVW5M
        X01ieVFONG9JaVFPYU9DU0l6WXhyYWJPMCIsImludGVybmFsX2RvbWFpbiI6
        InRlc3Qtc2l0ZS0yNDkuYWRtaW4uZGF0b2Ntcy5jb20iLCJjcmVhdGVkX2F0
        IjoiMjAxOS0wMy0yN1QxMDozMDozNy40MDhaIiwicmVhZHdyaXRlX3Rva2Vu
        IjoiYjkxN2VhM2FjNzAwYjI2NTA1OWU4MTcxZjg3Mjc3IiwicmVhZG9ubHlf
        dG9rZW4iOiJkNjZjOWVjYWE2YTBlNDdhMGJhOWIxNWRlYzc0YTQiLCJkZWFj
        dGl2YXRlZCI6ZmFsc2V9LCJyZWxhdGlvbnNoaXBzIjp7ImFjdGl2ZV9zdWJz
        Y3JpcHRpb24iOnsiZGF0YSI6eyJpZCI6IjEyMTkzIiwidHlwZSI6InN1YnNj
        cmlwdGlvbiJ9fSwiYWN0aXZlX3BsYW4iOnsiZGF0YSI6eyJpZCI6IjEyIiwi
        dHlwZSI6InBsYW4ifX0sInVzYWdlIjp7ImRhdGEiOnsiaWQiOiIxMi0xMTA0
        MCIsInR5cGUiOiJwbGFuX2NvbXBhdGliaWxpdHkifX0sInRyYW5zZmVyIjp7
        ImRhdGEiOm51bGx9fX19
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:30:37 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/upload-requests
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload_request","attributes":{"filename":"file.txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer b917ea3ac700b265059e8171f87277
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      Etag:
      - W/"de26705fe2657ee9dc5689bd32965a4a"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 3c3e156c-f1fb-4273-b10a-b4a7abec2097
      X-Runtime:
      - '0.050365'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiLzExMDQwLzE1NTM2ODI2MzctZmlsZS50eHQiLCJ0
        eXBlIjoidXBsb2FkX3JlcXVlc3QiLCJhdHRyaWJ1dGVzIjp7InVybCI6Imh0
        dHBzOi8vZGF0by1pbWFnZXMuczMtZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20v
        MTEwNDAvMTU1MzY4MjYzNy1maWxlLnR4dD9YLUFtei1BbGdvcml0aG09QVdT
        NC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJTlhRWDJaTlhO
        RUJDVkpBJTJGMjAxOTAzMjclMkZldS13ZXN0LTElMkZzMyUyRmF3czRfcmVx
        dWVzdCZYLUFtei1EYXRlPTIwMTkwMzI3VDEwMzAzN1omWC1BbXotRXhwaXJl
        cz05MDAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JTNCeC1hbXotYWNsJlgt
        QW16LVNpZ25hdHVyZT02NjQ0OWQ3YzRhOWY5ZGNjODNlOGMyNWFkOWEwNjBh
        ZjQzNDU1OGQ3MTg1ZTg3Njg5ZDI5N2FkOTBlZjYzMTRhIn19fQ==
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:30:37 GMT
- request:
    method: put
    uri: https://dato-images.s3-eu-west-1.amazonaws.com/11040/1553682637-file.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAINXQX2ZNXNEBCVJA/20190327/eu-west-1/s3/aws4_request&X-Amz-Date=20190327T103037Z&X-Amz-Expires=900&X-Amz-Signature=66449d7c4a9f9dcc83e8c25ad9a060af434558d7185e87689d297ad90ef6314a&X-Amz-SignedHeaders=host%3Bx-amz-acl
    body:
      encoding: UTF-8
      string: 'Hi there!

'
    headers:
      X-Amz-Acl:
      - public-read
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - dato-images.s3-eu-west-1.amazonaws.com
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - YZ4KfHI/O7DMEfyTua3XVB65sc1x1dqr0rlMyCZ+qKsns5dhWj9eIQxklRn5PdjUdY5SAe2a6T4=
      X-Amz-Request-Id:
      - BA779FDFA7990967
      Date:
      - Wed, 27 Mar 2019 10:30:38 GMT
      Etag:
      - '"2b87e29fca6ee7f1df6c1a76cb58e101"'
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:30:37 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/uploads
    body:
      encoding: UTF-8
      string: '{"data":{"type":"upload","attributes":{"size":10,"path":"/11040/1553682637-file.txt","format":"txt"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer b917ea3ac700b265059e8171f87277
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"cbc22323bfac71f5a30f0ca49a87c586"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 203ddf59-2e01-4aa6-b68a-ba4d16c85497
      X-Runtime:
      - '0.045060'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiNjExMDYzIiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTEwNDAvMTU1MzY4MjYzNy1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImFsdCI6bnVsbCwidGl0bGUiOm51bGwsImlzX2ltYWdlIjpmYWxz
        ZSwiY3JlYXRlZF9hdCI6IjIwMTktMDMtMjdUMTA6MzA6MzcuODg1WiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xMTA0MC8xNTUz
        NjgyNjM3LWZpbGUudHh0In19fQ==
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:30:37 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/uploads/611063
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer b917ea3ac700b265059e8171f87277
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '27'
      Etag:
      - W/"cbc22323bfac71f5a30f0ca49a87c586"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c516843e-e2d3-4d70-b11f-eb29318f51b6
      X-Runtime:
      - '0.027757'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiNjExMDYzIiwidHlwZSI6InVwbG9hZCIsImF0dHJp
        YnV0ZXMiOnsic2l6ZSI6MTAsIndpZHRoIjpudWxsLCJoZWlnaHQiOm51bGws
        InBhdGgiOiIvMTEwNDAvMTU1MzY4MjYzNy1maWxlLnR4dCIsImZvcm1hdCI6
        InR4dCIsImFsdCI6bnVsbCwidGl0bGUiOm51bGwsImlzX2ltYWdlIjpmYWxz
        ZSwiY3JlYXRlZF9hdCI6IjIwMTktMDMtMjdUMTA6MzA6MzcuODg1WiIsInVy
        bCI6Imh0dHBzOi8vd3d3LmRhdG9jbXMtYXNzZXRzLmNvbS8xMTA0MC8xNTUz
        NjgyNjM3LWZpbGUudHh0In19fQ==
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:30:37 GMT
recorded_with: VCR 4.0.0
