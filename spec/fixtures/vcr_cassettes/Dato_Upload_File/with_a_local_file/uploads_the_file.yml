---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: "{\"data\":{\"type\":\"site\",\"attributes\":{\"name\":\"Test site\"}}}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer XXX
      User-Agent:
      - ruby-client v0.1.30
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      Etag:
      - W/"7a5e7aed9791cf473ac54b0b85c64b20"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f025c3eb-dfe1-4d4b-9dc8-b0d696d20907
      X-Runtime:
      - '0.033680'
      Server:
      - WEBrick/1.3.1 (Ruby/2.3.1/2016-04-26)
      Date:
      - Fri, 28 Oct 2016 08:25:59 GMT
      Content-Length:
      - '460'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: "{\"data\":{\"id\":\"316\",\"type\":\"site\",\"attributes\":{\"name\":\"Test
        site\",\"theme_hue\":190,\"domain\":null,\"internal_subdomain\":\"delicate-sunset-2994\",\"internal_domain\":\"delicate-sunset-2994.admin.datocms.com\",\"last_data_change_at\":null,\"notes\":null,\"readwrite_token\":\"9846102fab2a40137ef1e3e766fdb79fd0a78c4c98680eccd9\",\"readonly_token\":\"df13d456a1850b4f9fe9327cc31a396f53b6307a05512d126d\",\"webhook_token\":\"20278c75a2ce849f2aa8\",\"access_token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzaXRlX2lkIjozMTYsImFjY291bnQiOnRydWV9.Ebzu_J9Sme1oQask3SIEjiiCjejMluaRwfFsSBOQR0E\",\"files_count\":0,\"items_count\":0,\"ssg\":null},\"relationships\":{\"latest_deploy_events\":{\"data\":[]}}}}"
    http_version: 
  recorded_at: Fri, 28 Oct 2016 08:25:59 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/upload-requests
    body:
      encoding: UTF-8
      string: "{\"data\":{\"type\":\"upload_request\",\"attributes\":{\"filename\":\"image.jpg\"}}}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 9846102fab2a40137ef1e3e766fdb79fd0a78c4c98680eccd9
      User-Agent:
      - ruby-client v0.1.30
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      Etag:
      - W/"2cf90946e5fb7b5005ef1a32d595c74d"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - b8df532a-a311-473c-aef9-1bb431a2863f
      X-Runtime:
      - '0.009279'
      Server:
      - WEBrick/1.3.1 (Ruby/2.3.1/2016-04-26)
      Date:
      - Fri, 28 Oct 2016 08:25:59 GMT
      Content-Length:
      - '340'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: "{\"data\":{\"id\":\"/316/1477643159-image.jpg\",\"type\":\"upload_request\",\"attributes\":{\"url\":\"https://dato-images.s3-eu-west-1.amazonaws.com/316/1477643159-image.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256\\u0026X-Amz-Credential=AKIAINXQX2ZNXNEBCVJA%2F20161028%2Feu-west-1%2Fs3%2Faws4_request\\u0026X-Amz-Date=20161028T082559Z\\u0026X-Amz-Expires=900\\u0026X-Amz-SignedHeaders=host%3Bx-amz-acl\\u0026X-Amz-Signature=c265de49dd8205b30ef77ba6707ba649a3587a9335a0e91ff992727bd0066872\"}}}"
    http_version: 
  recorded_at: Fri, 28 Oct 2016 08:25:59 GMT
- request:
    method: put
    uri: https://dato-images.s3-eu-west-1.amazonaws.com/316/1477643159-image.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAINXQX2ZNXNEBCVJA/20161028/eu-west-1/s3/aws4_request&X-Amz-Date=20161028T082559Z&X-Amz-Expires=900&X-Amz-Signature=c265de49dd8205b30ef77ba6707ba649a3587a9335a0e91ff992727bd0066872&X-Amz-SignedHeaders=host%3Bx-amz-acl
    body:
      encoding: UTF-8
      base64_string: |
        /9j/4AAQSkZJRgABAQAAAQABAAD/4gKgSUNDX1BST0ZJTEUAAQEAAAKQbGNt
        cwQwAABtbnRyUkdCIFhZWiAH4AAIAAUACAACAAVhY3NwQVBQTAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAA
        ADhjcHJ0AAABQAAAAE53dHB0AAABkAAAABRjaGFkAAABpAAAACxyWFlaAAAB
        0AAAABRiWFlaAAAB5AAAABRnWFlaAAAB+AAAABRyVFJDAAACDAAAACBnVFJD
        AAACLAAAACBiVFJDAAACTAAAACBjaHJtAAACbAAAACRtbHVjAAAAAAAAAAEA
        AAAMZW5VUwAAABwAAAAcAHMAUgBHAEIAIABiAHUAaQBsAHQALQBpAG4AAG1s
        dWMAAAAAAAAAAQAAAAxlblVTAAAAMgAAABwATgBvACAAYwBvAHAAeQByAGkA
        ZwBoAHQALAAgAHUAcwBlACAAZgByAGUAZQBsAHkAAAAAWFlaIAAAAAAAAPbW
        AAEAAAAA0y1zZjMyAAAAAAABDEoAAAXj///zKgAAB5sAAP2H///7ov///aMA
        AAPYAADAlFhZWiAAAAAAAABvlAAAOO4AAAOQWFlaIAAAAAAAACSdAAAPgwAA
        tr5YWVogAAAAAAAAYqUAALeQAAAY3nBhcmEAAAAAAAMAAAACZmYAAPKnAAAN
        WQAAE9AAAApbcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltwYXJh
        AAAAAAADAAAAAmZmAADypwAADVkAABPQAAAKW2Nocm0AAAAAAAMAAAAAo9cA
        AFR7AABMzQAAmZoAACZmAAAPXP/bAEMABQMEBAQDBQQEBAUFBQYHDAgHBwcH
        DwsLCQwRDxISEQ8RERMWHBcTFBoVEREYIRgaHR0fHx8TFyIkIh4kHB4fHv/b
        AEMBBQUFBwYHDggIDh4UERQeHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4e
        Hh4eHh4eHh4eHh4eHh4eHh4eHh4eHv/CABEIAPsA+wMBIgACEQEDEQH/xAAb
        AAEBAQEBAAMAAAAAAAAAAAAABgQFAwECB//EABoBAQADAQEBAAAAAAAAAAAA
        AAADBAUBAgb/2gAMAwEAAhADEAAAAfUfU6QAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAnIvHb84pnVbVFOLVFC1RQtUULbRAvXf0FEdWxJRM+i5OHegAAAAA
        ecFcw2VTDNqgAAAAAfPd4KX1f/aLrtm/7CzKAAAABnhrmGyaYZ1UAAAAAABq
        yvXb30kq3e0QnkAAAAzw1zDZNMM6qAA0dnv6Fme09lescPnVrzz8/wDi1k82
        pmFWIBXSO6zLZje0QAAAM8Ncw2TTDOqgKDjXN+z8jYugAPD3cQflSTfz+YEP
        gC408bs/RaYS+wAAM8Ncw2TTDOqgdum4Xd3dALUwAAHhC/oP5/l0/gZlUDvU
        cxT7mgFuYAADPDXMNk0wzqoHfooyz274XJwAAPrAVslkUgz6wHcpeF3d3QC1
        MAABnhrmGyaYZ1UBXyHrYkvGPZu6IeugPhMQ+MeIwM0PPB7dVm8+k1Q9dAAA
        zw1zDZNMM6qAB9u5wUvq10wK5Yu+dKvPnZjKUAeeAKLi2+hZ+w17oAAAGeGu
        YbJphnVQAAAAAAH2VliT13G7oh66AAAB4Qv6DF5tTEMqoAAAAANPe5tPc7Wh
        YybTUuB66AAAAA8/QcHyo1aKcUbnJxRicUYnFGJ7R2XruTWTyB3oAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EACkQAAEDAwIGAgIDAAAAAAAAAAMB
        AgQAIDAFNBITFBUhQBEiI3AxMjP/2gAIAQEAAQUC/QzzCYvVR66qPXVR66qP
        XVR66qPXVR66qPXVR6SSBaa9jvU1CWvFkHIMyhaitBMMqZyu4RZ0VUWNPVKa
        5HNyydt6MWQ8DglYVmSTtvSjGcAg3tIzHJ23p6fI5RMcnbYAgKWmactduDTt
        OZRYJmUvhbtONzQ4pO2vhwaRERLJEcZkkBeB9sEnKkYpO2u0yPgOJphlY4ZL
        Yz+YDDJ21oB80zUREwasL5ZbpLvkGGTtrdIb8lwnbxht0dfvhk7a3R/6Yl/m
        zSP9sMnbW6OvnC9eFlukJ+XDJ21sEnLk4dTJwR7dHb9MMnbXQD84V6+Emm5x
        rYDOCLhk7a4RHCfFkMO21VREnS+ZcBnMKnjFJ217VVqg1BUpkoD64mrTiibR
        Z4W1IklNfpIvGKTtvTjiUxWNRrcUnbek1Fc6GBADxydt6LUVzoUVApkkeY/o
        AAQzosZgEzTAKEuUQCloGntSmojUzkY0jX6c357atdtWu2rXbVrtq121a7at
        dtWu2rSabTdOFQ4wGfq7/8QAJhEAAQIFAwQDAQAAAAAAAAAAAQACAwQRIDEQ
        ExQSITBRIjJBUP/aAAgBAwEBPwH+E94YKlck+lyXLkuXJcuS5co+k2YacoGv
        gmsjwNeW4UOKH3zWR4QadwocTrF01kWQ5cnu5CCwfiMBhUSEWawX9LrprI1l
        4dTU2EVURnQ6msM1aDbNZGsAfC2aGNZf6WzWRrLmrLZk96awB8LZrI1hROgo
        EHuNYkQMCJqa6DumigpbNZFjXluEJo+kZl34iSc6y7Knqumsjww4ZeUBQUF0
        y39vAqmS5P2QAHYeDYZ6WwxbDFsMWwxbLPSAAx/H/8QAKREAAQIEBQMFAQEA
        AAAAAAAAAQIDAAQFERAgMkFREhQhExUwMVBhM//aAAgBAgEBPwH8J55LSbmD
        UV8R7gviPcF8R7gviPcF8QKircQifbV9+IBChcfBUfsfA28ts3TEvMpeH9z1
        HUPhSopNxEu8Hk3zVHUMjEiVeVwJRkbQuSaVtD8qprztjKu+m5mqOoYyLPWe
        s7ZCARYw+16S+nFhfW2DlqOoYyYsyMtRGk4yX+Iy1HUMZFd2rcZagu6gnGTF
        mRlqOoYy7/oqvCVBQuMXn0tJuYUorNzgBc2hCelIGWo6hkbeW3pMCoq3ELqC
        z9CFKKjc4yLPUrrO2ao6h8LDBeP8hCQgWGaoIPhWcJKvAhmQUfK4SkIFhnIv
        Bk2TtHZM8R2TPEdkzxHZM8QJRkbQlIT9fj//xAAxEAABAgMECQIGAwAAAAAA
        AAABAAIDETAgITNyEiIxQEFRYYGRMnETI0JicKFSkqL/2gAIAQEABj8C/A0n
        RGg+6xWrFasVqxWrFasVqxWrFasVqxW+VquafY7oYUMyltNXViFfNZ3C1HT3
        BzuQnuEwZFaMa8fyWk0zFaJkO5XXt4haTDViZDuekNnEIPbsNSJkO6aLvQ79
        VImQ0dRs+q14nhep61Yjh7qYk8dFI29E+ptOJkNDTjf1UhdZ1hfzWi7sbTTw
        NxpxMht/GeMtAscix20WmP6UomQ2ms5oAbBREUcLjac3kaUTIbTn8hSe3mLU
        QdKUTIbUT3pmy7LSiZDaiN70i7kLTz0pRMhtNJ2G40tHi66093WVKJkNuR9b
        dtCZU/pFwtM630omQ2w9u0K653EWplfDh+jiedprOZpxMhoTBkVKK2fUK6IO
        9y9QWtEaO61JvK1jdyFsxj7CnEyHdAwd0Gt2CnEyHcw0CZK+47akTIdy0WiZ
        Wk695/VWIPtO4yYO6uvdzry+k7K2ownqpxTpdApNEhuGi8TC1IhHuFijwsUe
        FijwsUeFijwsUeFijwsUeFijwr43+VrOcVdDHf8AF3//xAApEAABAQYFBAID
        AAAAAAAAAAABEQAgITAxUUBBYXHwgZGhwbHRcOHx/9oACAEBAAE/IfwNp5Cq
        UAAAAABQuuhvmVMJAmQDqdJuTuxKjywkAEcYMrhlmMxgDC6n8GMSpniRQKEM
        kbIqN2FgCUIncpbBZolXNgNYPIm8pbB1wl1AxiVBM5S2EjVEjqvM5S0kjHDo
        DHhRjQVYIR74+mL8ABYcj3DswEgCCKgvx1yTqMpfKWkAQD2+zAAAAoA7TZlG
        oZMsDQoXl0PvpfKWfCU2j3IFDWhsWCtEev4Yt85XKWeMBzR2zYDaAQCSgaPa
        Pcg1lcpZ5UrXf+StfVN3twgZXKWeCNolwi1d42olcpZ7dAEoElQhe2knzK5S
        zy0PZSlUDFRtm8hfh2f2VylnxqeRq1kECEQCJLKw+heSRrF6yuUs+YlPIyoJ
        CrUPEBAAKktHlI4GzxRuptmwAAAEAlcpaQGnAoQwYeduzUpm32MBlBereUIG
        GoGggGIohlpPoha/tl8pbCZ1MSsGB0gEAl8pbBlBEIAGTJQxj9TOUtggwglA
        GhLCmhICp+LA0kcyoGzKqnPI0Zx6TqUHQO7JK90GDRAUAGALRTZFjlCLKSmt
        a1rWtaT6P2YX04aKr7xfP4u//9oADAMBAAIAAwAAABD/AP8A/wD/AP8A/wD/
        AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A8csssoOf
        /wD/AP8A/wD/APYCCCCCCChy/wD/AP8A/wD6ggggggggkPP/AP8A/wD6gggl
        H3jQghv/AP8A/wD6gggv/wD+4sILf/8A/wD6ggt//wD/APtCCe//AP8A+oIL
        z/8A/wDywgl//wD/APqCCB3/AP8AiIIfT/8A/wD6ggggUk4AgmP/AP8A/wD6
        gggggggggXv/AP8A/wD7QgggggglXv8A/wD/AP8A/wA89999td//AP8A/wD/
        AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A
        /wD/AP/EACMRAQACAAYCAgMAAAAAAAAAAAEAERAhMDFBYSChUFFAcbH/2gAI
        AQMBAT8Q+DwN+QnUTqJ1E6iHJGTZIAsdBZGg/ahtbP4CR8kK/nnSQOwYM2wq
        Z/uY0f06KDij++ACmXGmcVB8cxfvFWdBZZ9eN5+mNB0El/HMNsyxsDvHZbuA
        VRBIcaKftzkQzZUdtW4542NdVo2hlsHkyB80VBczzIQ2jLzQSmKtx1+2dftn
        X7Z1+2BwLQr4f//EACkRAAECAwcEAgMAAAAAAAAAAAEAESAxoRAhQVFhsdEw
        ceHwUIGRwfH/2gAIAQIBAT8Q+C9FlOLhqtNXlaavK01eVpq8oST+f6rqfsT4
        HHQIt6HoPI4TAkGHEdD0QI7ELPITioYA4Mwyx8Ia1/ugVzDos7ZubTiJkbjF
        Q2jKG6Tv4gOgOCjFwYdrXDxENDaPUOawjfufq03+zeGhtFnS8wiCYDe3vl94
        aG02SM0PHcG3GRgM0czzYYQTKCJwDQ0MBl2NkILs/bcoEwhVP5c2nwKTv4io
        ei3RcEz7ig0bARHAMhcYzDLlEZIyx8IdGwEYAYi5FH3nleknleknleknlekn
        lSzeUGYQBp8P/8QAKRABAAEBBQgDAQEBAAAAAAAAAREAITAxQVEgYXGBkdHw
        8UChwbFw4f/aAAgBAQABPxD/AAaGHYsQ4haV7pr3TXumvdNe6a9017pr3TXu
        mloD4Ma+k0/j4knapW0zDkGfktrLdijIw1BxRh9KkU8Z1WL1Y9SoMIStnGG3
        4APSG4ifykoiqyrnfqUmUQjuafM4QHQZ8S3jQSflUjfeF1/Ck6nWqzeNHfUy
        bsRsXRMm98Lr+GNnsjtne0at1PDmajvLzwuv4iDFMSbME/D/AMvPC67mBDGF
        WPNsowjz/tMfyj2u6h0MZ7L8WKRCVtvBxfk0sFoBCO820CTGy25j85b7vwuv
        bBWAlpju23D59vXSiRlAIA3GymBMs8cbU3NIJlpgndv3bTwgnJwPJhu/C69s
        WWBtzM8x10uLEpaMtykqJFGYwTJNyW7UyMnHuWfYbrwuvaknIxGWJdBoWpAM
        AMC5G1eFM1gvBs57SusspuAfo3Xhde0YwYzuVj0XW6NUlByLPuNpyVZBcFP2
        68Lr2gM6l0HvdkEIBB1v/PC69ox8SFykf6XWOsngE0qqqq4rss2mB6v+Lrwu
        vaOPLc0MDyYeV0EcRrPMulnPasCwx4F/F14XXtkZ4kjacu7fxuDwHUMAGK0j
        9Dhftxcem1FCDeYk+ouvC69uSvuQzHUaDiFauYam/aJu0ogDVaiiB0GOnido
        /WyEZYlyJoSwAAyLrwuu4U/8rhGokQssTmwPKKJJtmy/iogzULRKw2UrpNIM
        kofe29BqJM2bFz6vHbXfL9JtdbOTd+F1/EnWBWHDxfM4oFJ2mC78Lr+GeImK
        K1hqceuQ3F54XX8J1LwKVaz2AcQ6G/V8bwRZBDev4MsEWLNx38LalRhQa13G
        hfIJCSNTbyOTdHEwvlCe5j7VlPQTbMnO4v1QpfiGDl8DGx1kOo5O+nXhWole
        8d694717x3r3jvXvHeveO9e8d694717x3rLRuoIisZCD9L90kKHAJzrijlRY
        Qf5b/9k=
    headers:
      X-Amz-Acl:
      - public-read
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Host:
      - dato-images.s3-eu-west-1.amazonaws.com
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - vCTkjq8AUJ2hAODnmC+B9gyiDdmeGIMsmrSHPlFNv6u4hwGIczu4WoK1LTnoNaMhXI0WZZuZrFo=
      X-Amz-Request-Id:
      - 949D1DB90B108107
      Date:
      - Fri, 28 Oct 2016 08:25:59 GMT
      Etag:
      - "\"40f2b5d001bde5573864d620b133b43b\""
      Content-Length:
      - '0'
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Fri, 28 Oct 2016 08:25:59 GMT
recorded_with: VCR 3.0.3
