---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/account
    body:
      encoding: UTF-8
      string: '{"data":{"type":"account","attributes":{"email":"AGFZIPYM@example.com","company":"DatoCMS","password":"veryst_9rong_passowrd4_"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer
      User-Agent:
      - ruby-client v0.7.7
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '27'
      Etag:
      - W/"d0556ceb23fc9ef0a5e15b636629a1ce"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 4401b61b-5bb7-4b83-830a-be413fedc3a3
      X-Runtime:
      - '0.245437'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Mon, 18 Nov 2019 08:58:35 GMT
      Content-Length:
      - '387'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSjkuZXlKMklqb3hM
        Q0pwSWpveE1UazNOQ3dpWnlJNklqSXdNVGt0TVRFdE1UaFVNRGs2TlRnNk16
        VXVNRFV3S3pBeE9qQXdJbjAueV9NTXNvT21wZG9KOXpsUGNsTVpOcjgxdWpU
        dzQ5MmpmaDF4ejVLUTVwVSIsInR5cGUiOiJzZXNzaW9uIiwicmVsYXRpb25z
        aGlwcyI6eyJhY2NvdW50Ijp7ImRhdGEiOnsiaWQiOiIxMTk3NCIsInR5cGUi
        OiJhY2NvdW50In19fX0sImluY2x1ZGVkIjpbeyJpZCI6IjExOTc0IiwidHlw
        ZSI6ImFjY291bnQiLCJhdHRyaWJ1dGVzIjp7ImVtYWlsIjoiQUdGWklQWU1A
        ZXhhbXBsZS5jb20iLCJmaXJzdF9uYW1lIjpudWxsLCJsYXN0X25hbWUiOm51
        bGwsImNvbXBhbnkiOiJEYXRvQ01TIiwicHJvdmlzaW9uaW5nXzJmYV91cmki
        OiJvdHBhdXRoOi8vdG90cC9EYXRvQ01TOkFHRlpJUFlNQGV4YW1wbGUuY29t
        P3NlY3JldD1RWU9XUVQzUzJLUUcyTExBN0JSNVZSWTY1RktZSjNWNyZpc3N1
        ZXI9RGF0b0NNUyIsImlzXzJmYV9hY3RpdmUiOmZhbHNlfX1dfQ==
    http_version: 
  recorded_at: Mon, 18 Nov 2019 08:58:35 GMT
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site","attributes":{"name":"Test site"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer eyJhbGciOiJIUzI1NiJ9.eyJ2IjoxLCJpIjoxMTk3NCwiZyI6IjIwMTktMTEtMThUMDk6NTg6MzUuMDUwKzAxOjAwIn0.y_MMsoOmpdoJ9zlPclMZNr81ujTw492jfh1xz5KQ5pU
      User-Agent:
      - ruby-client v0.7.7
      X-Api-Version:
      - '3'
      X-Foo:
      - Bar
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '26'
      Etag:
      - W/"cbc7e59c46d659b377bb93f2956ed3d5"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 15e24743-b380-4b93-bd6b-eb791b655b53
      X-Runtime:
      - '0.163928'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Mon, 18 Nov 2019 08:58:35 GMT
      Content-Length:
      - '519'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTc3MjciLCJ0eXBlIjoic2l0ZSIsImF0dHJpYnV0
        ZXMiOnsibmFtZSI6IlRlc3Qgc2l0ZSIsImRvbWFpbiI6bnVsbCwiaW50ZXJu
        YWxfc3ViZG9tYWluIjoidGVzdC1zaXRlLTc2IiwibGFzdF9kYXRhX2NoYW5n
        ZV9hdCI6IjIwMTktMTEtMThUMDg6NTg6MzUuMjA4WiIsIm5vdGVzIjpudWxs
        LCJhY2Nlc3NfdG9rZW4iOiJleUpoYkdjaU9pSklVekkxTmlKOS5leUoySWpv
        eExDSnpJam94TnpjeU55d2lhU0k2TVRFNU56UXNJblFpT2lKaElpd2laeUk2
        SWpJd01Ua3RNVEV0TVRoVU1EazZOVGc2TXpVdU1qRXdLekF4T2pBd0luMC5w
        T3k4OXljV1lnTndvSlNQQ2tZNG9sQXFXUW1FT3RvRlVBVjlHOGRrZlQ4Iiwi
        aW50ZXJuYWxfZG9tYWluIjoidGVzdC1zaXRlLTc2LmFkbWluLmRhdG9jbXMu
        Y29tIiwiY3JlYXRlZF9hdCI6IjIwMTktMTEtMThUMDg6NTg6MzUuMTc1WiIs
        InJlYWR3cml0ZV90b2tlbiI6IjhjM2Q5YjhjZGU2ODMxYmU2NjI3OTEzODEz
        OTQ1YSIsInJlYWRvbmx5X3Rva2VuIjoiYzM5Mjc2NjBiZWE4OWRlNTRiYzBk
        NTU0NjA3ZmMwIiwiZGVhY3RpdmF0ZWQiOmZhbHNlfSwicmVsYXRpb25zaGlw
        cyI6eyJhY3RpdmVfc3Vic2NyaXB0aW9uIjp7ImRhdGEiOnsiaWQiOiIxOTYz
        MiIsInR5cGUiOiJzdWJzY3JpcHRpb24ifX0sImFjdGl2ZV9wbGFuIjp7ImRh
        dGEiOnsiaWQiOiIxIiwidHlwZSI6InBsYW4ifX0sInVzYWdlIjp7ImRhdGEi
        OnsiaWQiOiIxLTAtMC0wLTAtMC0wLTAtMTc3MjciLCJ0eXBlIjoic3Vic2Ny
        aXB0aW9uX2NvbXBhdGliaWxpdHkifX0sInRyYW5zZmVyIjp7ImRhdGEiOm51
        bGx9LCJvd25lciI6eyJkYXRhIjp7ImlkIjoiMTE5NzQiLCJ0eXBlIjoiYWNj
        b3VudCJ9fX19fQ==
    http_version: 
  recorded_at: Mon, 18 Nov 2019 08:58:35 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/roles
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 8c3d9b8cde6831be6627913813945a
      User-Agent:
      - ruby-client v0.7.7
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      X-Bullet-Console-Text:
      - '["user: souljuse\nUSE eager loading detected\n  Role => [:item_type_permissions]\n  Add
        to your finder: :includes => [:item_type_permissions]\nCall stack\n  /Users/souljuse/Documents/cantiere/datoCMS/api/app/serializers/role_serializer.rb:28:in
        `positive_item_type_permissions''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/app/controllers/site_api/roles_controller.rb:15:in
        `index''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/lib/middleware/catch_json_parse_errors.rb:24:in
        `call''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/lib/middleware/maintenance_mode.rb:36:in
        `call''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/lib/middleware/expose_queue_time.rb:19:in
        `call''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/lib/middleware/fast_cors.rb:31:in
        `call''\n\n","user: souljuse\nUSE eager loading detected\n  Role => [:environment_permissions]\n  Add
        to your finder: :includes => [:environment_permissions]\nCall stack\n  /Users/souljuse/Documents/cantiere/datoCMS/api/app/serializers/role_serializer.rb:46:in
        `positive_deployment_environment_permissions''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/app/controllers/site_api/roles_controller.rb:15:in
        `index''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/lib/middleware/catch_json_parse_errors.rb:24:in
        `call''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/lib/middleware/maintenance_mode.rb:36:in
        `call''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/lib/middleware/expose_queue_time.rb:19:in
        `call''\n  /Users/souljuse/Documents/cantiere/datoCMS/api/lib/middleware/fast_cors.rb:31:in
        `call''\n\n"]'
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '22'
      Etag:
      - W/"274e56fd17c7cc78ca5728a7c5dbff14"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 65f84b06-c6f7-4043-82c0-30d97ee2f46b
      X-Runtime:
      - '0.047520'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Mon, 18 Nov 2019 08:58:35 GMT
      Content-Length:
      - '318'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjpbeyJpZCI6IjM0NDUyIiwidHlwZSI6InJvbGUiLCJhdHRyaWJ1
        dGVzIjp7Im5hbWUiOiJFZGl0b3IiLCJjYW5fZWRpdF9zY2hlbWEiOmZhbHNl
        LCJjYW5fZWRpdF9zaXRlIjpmYWxzZSwiY2FuX2VkaXRfZmF2aWNvbiI6dHJ1
        ZSwiY2FuX21hbmFnZV91c2VycyI6ZmFsc2UsImNhbl9tYW5hZ2Vfc2hhcmVk
        X2ZpbHRlcnMiOmZhbHNlLCJjYW5fbWFuYWdlX2FjY2Vzc190b2tlbnMiOmZh
        bHNlLCJjYW5fcGVyZm9ybV9zaXRlX3NlYXJjaCI6ZmFsc2UsImNhbl9tYW5h
        Z2Vfd2ViaG9va3MiOmZhbHNlLCJjYW5fbWFuYWdlX2RlcGxveW1lbnRfZW52
        aXJvbm1lbnRzIjpmYWxzZSwicG9zaXRpdmVfaXRlbV90eXBlX3Blcm1pc3Np
        b25zIjpbeyJpdGVtX3R5cGUiOiIiLCJhY3Rpb24iOiJhbGwiLCJvbl9jcmVh
        dG9yIjoiYW55b25lIn1dLCJuZWdhdGl2ZV9pdGVtX3R5cGVfcGVybWlzc2lv
        bnMiOltdLCJwb3NpdGl2ZV9kZXBsb3ltZW50X2Vudmlyb25tZW50X3Blcm1p
        c3Npb25zIjpbeyJkZXBsb3ltZW50X2Vudmlyb25tZW50IjoiIn1dLCJuZWdh
        dGl2ZV9kZXBsb3ltZW50X2Vudmlyb25tZW50X3Blcm1pc3Npb25zIjpbXX19
        LHsiaWQiOiIzNDQ1MyIsInR5cGUiOiJyb2xlIiwiYXR0cmlidXRlcyI6eyJu
        YW1lIjoiQWRtaW4iLCJjYW5fZWRpdF9zY2hlbWEiOnRydWUsImNhbl9lZGl0
        X3NpdGUiOnRydWUsImNhbl9lZGl0X2Zhdmljb24iOnRydWUsImNhbl9tYW5h
        Z2VfdXNlcnMiOnRydWUsImNhbl9tYW5hZ2Vfc2hhcmVkX2ZpbHRlcnMiOnRy
        dWUsImNhbl9tYW5hZ2VfYWNjZXNzX3Rva2VucyI6dHJ1ZSwiY2FuX3BlcmZv
        cm1fc2l0ZV9zZWFyY2giOnRydWUsImNhbl9tYW5hZ2Vfd2ViaG9va3MiOnRy
        dWUsImNhbl9tYW5hZ2VfZGVwbG95bWVudF9lbnZpcm9ubWVudHMiOnRydWUs
        InBvc2l0aXZlX2l0ZW1fdHlwZV9wZXJtaXNzaW9ucyI6W3siaXRlbV90eXBl
        IjoiIiwiYWN0aW9uIjoiYWxsIiwib25fY3JlYXRvciI6ImFueW9uZSJ9XSwi
        bmVnYXRpdmVfaXRlbV90eXBlX3Blcm1pc3Npb25zIjpbXSwicG9zaXRpdmVf
        ZGVwbG95bWVudF9lbnZpcm9ubWVudF9wZXJtaXNzaW9ucyI6W3siZGVwbG95
        bWVudF9lbnZpcm9ubWVudCI6IiJ9XSwibmVnYXRpdmVfZGVwbG95bWVudF9l
        bnZpcm9ubWVudF9wZXJtaXNzaW9ucyI6W119fV19
    http_version: 
  recorded_at: Mon, 18 Nov 2019 08:58:35 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/site-invitations
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site_invitation","attributes":{"email":"foo@bar.it"},"relationships":{"role":{"data":{"type":"role","id":"34452"}}}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 8c3d9b8cde6831be6627913813945a
      User-Agent:
      - ruby-client v0.7.7
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '21'
      Etag:
      - W/"526241ab52ab777f54b58937d6d51eb4"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 11cd399a-728d-45a4-938e-e8631fb8fc96
      X-Runtime:
      - '0.098942'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Mon, 18 Nov 2019 08:58:35 GMT
      Content-Length:
      - '131'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTU3NCIsInR5cGUiOiJzaXRlX2ludml0YXRpb24i
        LCJhdHRyaWJ1dGVzIjp7ImVtYWlsIjoiZm9vQGJhci5pdCJ9LCJyZWxhdGlv
        bnNoaXBzIjp7InJvbGUiOnsiZGF0YSI6eyJpZCI6IjM0NDUyIiwidHlwZSI6
        InJvbGUifX19fX0=
    http_version: 
  recorded_at: Mon, 18 Nov 2019 08:58:35 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/site-invitations
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 8c3d9b8cde6831be6627913813945a
      User-Agent:
      - ruby-client v0.7.7
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '20'
      Etag:
      - W/"ac26f5a6fe2ea1ed0ddaaa5c73c2394d"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 2021aebd-f901-4d0b-a743-defff067e380
      X-Runtime:
      - '0.023129'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Mon, 18 Nov 2019 08:58:35 GMT
      Content-Length:
      - '136'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjpbeyJpZCI6IjE1NzQiLCJ0eXBlIjoic2l0ZV9pbnZpdGF0aW9u
        IiwiYXR0cmlidXRlcyI6eyJlbWFpbCI6ImZvb0BiYXIuaXQifSwicmVsYXRp
        b25zaGlwcyI6eyJyb2xlIjp7ImRhdGEiOnsiaWQiOiIzNDQ1MiIsInR5cGUi
        OiJyb2xlIn19fX1dfQ==
    http_version: 
  recorded_at: Mon, 18 Nov 2019 08:58:35 GMT
- request:
    method: delete
    uri: http://site-api.lvh.me:3001/site-invitations/1574
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 8c3d9b8cde6831be6627913813945a
      User-Agent:
      - ruby-client v0.7.7
      X-Api-Version:
      - '3'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Api-Version:
      - '3'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '19'
      Etag:
      - W/"526241ab52ab777f54b58937d6d51eb4"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 39b36035-8d8c-4d22-a706-24203ce669ca
      X-Runtime:
      - '0.023304'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent, x-session-id
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Server:
      - WEBrick/1.4.2 (Ruby/2.5.1/2018-03-29)
      Date:
      - Mon, 18 Nov 2019 08:58:35 GMT
      Content-Length:
      - '131'
      Connection:
      - Keep-Alive
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTU3NCIsInR5cGUiOiJzaXRlX2ludml0YXRpb24i
        LCJhdHRyaWJ1dGVzIjp7ImVtYWlsIjoiZm9vQGJhci5pdCJ9LCJyZWxhdGlv
        bnNoaXBzIjp7InJvbGUiOnsiZGF0YSI6eyJpZCI6IjM0NDUyIiwidHlwZSI6
        InJvbGUifX19fX0=
    http_version: 
  recorded_at: Mon, 18 Nov 2019 08:58:35 GMT
recorded_with: VCR 5.0.0
