---
http_interactions:
- request:
    method: post
    uri: http://account-api.lvh.me:3001/account
    body:
      encoding: UTF-8
      string: '{"data":{"type":"account","attributes":{"email":"TSESDXAD@example.com","name":"Test","company":"DatoCMS","password":"veryst_9rong_passowrd4_"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '29'
      Etag:
      - W/"d7a0713cafed0f093cd3b558bdd71167"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - ec4762ec-1e6d-41eb-abce-6cb9a350a98d
      X-Runtime:
      - '0.842823'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6
        STFOaUo5LmV5SmhZMk52ZFc1MFgybGtJam8zTkRBNUxDSm5aVzVsY21GMFpX
        UmZZWFFpT2lJeU1ERTVMVEF6TFRJM1ZERXhPalExT2pBMExqZ3dNU3N3TVRv
        d01DSjkuUGdmd3hueWcxVzE2VGM0UHc3Tms3YlhuemJkX2RoeG40Y3BOalVx
        dmllayIsInR5cGUiOiJzZXNzaW9uIiwicmVsYXRpb25zaGlwcyI6eyJhY2Nv
        dW50Ijp7ImRhdGEiOnsiaWQiOiI3NDA5IiwidHlwZSI6ImFjY291bnQifX19
        fSwiaW5jbHVkZWQiOlt7ImlkIjoiNzQwOSIsInR5cGUiOiJhY2NvdW50Iiwi
        YXR0cmlidXRlcyI6eyJlbWFpbCI6IlRTRVNEWEFEQGV4YW1wbGUuY29tIiwi
        bmFtZSI6IlRlc3QiLCJjb21wYW55IjoiRGF0b0NNUyJ9fV19
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:45:04 GMT
- request:
    method: post
    uri: http://account-api.lvh.me:3001/sites
    body:
      encoding: UTF-8
      string: '{"data":{"type":"site","attributes":{"name":"Test site"}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhY2NvdW50X2lkIjo3NDA5LCJnZW5lcmF0ZWRfYXQiOiIyMDE5LTAzLTI3VDExOjQ1OjA0LjgwMSswMTowMCJ9.Pgfwxnyg1W16Tc4Pw7Nk7bXnzbd_dhxn4cpNjUqviek
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      X-Foo:
      - Bar
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '28'
      Etag:
      - W/"cc18e2716d654629fd9e4352e2ec5855"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 9786c180-bb41-4727-bbae-52f41eb2a9ce
      X-Runtime:
      - '0.632063'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiMTEwNTEiLCJ0eXBlIjoic2l0ZSIsImF0dHJpYnV0
        ZXMiOnsibmFtZSI6IlRlc3Qgc2l0ZSIsImRvbWFpbiI6bnVsbCwiaW50ZXJu
        YWxfc3ViZG9tYWluIjoidGVzdC1zaXRlLTI1NSIsImxhc3RfZGF0YV9jaGFu
        Z2VfYXQiOiIyMDE5LTAzLTI3VDEwOjQ1OjA1LjM1OVoiLCJub3RlcyI6bnVs
        bCwiYWNjZXNzX3Rva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lK
        SVV6STFOaUo5LmV5SnphWFJsWDJsa0lqb3hNVEExTVN3aVlXTmpiM1Z1ZENJ
        NmRISjFaU3dpWjJWdVpYSmhkR1ZrWDJGMElqb2lNakF4T1Mwd015MHlOMVF4
        TVRvME5Ub3dOUzQwTWpJck1ERTZNREFpZlEuYnh5US1ObWJGX3I4bEx5WE1m
        aUtKM3NvY2h1dWlTOXUtN1VRd2oxeHoyayIsImludGVybmFsX2RvbWFpbiI6
        InRlc3Qtc2l0ZS0yNTUuYWRtaW4uZGF0b2Ntcy5jb20iLCJjcmVhdGVkX2F0
        IjoiMjAxOS0wMy0yN1QxMDo0NTowNS4zNTlaIiwicmVhZHdyaXRlX3Rva2Vu
        IjoiNGE1MTA5MzkxNmZmY2IwZTFiZDc0MDY5NzhhNmRhIiwicmVhZG9ubHlf
        dG9rZW4iOiIyYWNhZmY1YjkwZTY4NDEzNWI0NTI0ZDljNzNjMGIiLCJkZWFj
        dGl2YXRlZCI6ZmFsc2V9LCJyZWxhdGlvbnNoaXBzIjp7ImFjdGl2ZV9zdWJz
        Y3JpcHRpb24iOnsiZGF0YSI6eyJpZCI6IjEyMjA0IiwidHlwZSI6InN1YnNj
        cmlwdGlvbiJ9fSwiYWN0aXZlX3BsYW4iOnsiZGF0YSI6eyJpZCI6IjEyIiwi
        dHlwZSI6InBsYW4ifX0sInVzYWdlIjp7ImRhdGEiOnsiaWQiOiIxMi0xMTA1
        MSIsInR5cGUiOiJwbGFuX2NvbXBhdGliaWxpdHkifX0sInRyYW5zZmVyIjp7
        ImRhdGEiOm51bGx9fX19
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:45:05 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/deployment-environments
    body:
      encoding: UTF-8
      string: '{"data":{"type":"deployment_environment","attributes":{"name":"Foo","deploy_adapter":"custom","spider_enabled":false,"frontend_url":null,"build_on_scheduled_publications":false,"deploy_settings":{"trigger_url":"https://www.google.com"}}}}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 4a51093916ffcb0e1bd7406978a6da
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 201
      message: Created
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '20'
      Etag:
      - W/"ed0775518078cefb6fdb4070109357a9"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c925fbfe-6b24-4df6-80cd-9764967ca307
      X-Runtime:
      - '0.072051'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjp7ImlkIjoiNDEwOCIsInR5cGUiOiJkZXBsb3ltZW50X2Vudmly
        b25tZW50IiwiYXR0cmlidXRlcyI6eyJuYW1lIjoiRm9vIiwiZGVwbG95X2Fk
        YXB0ZXIiOiJjdXN0b20iLCJkZXBsb3lfc2V0dGluZ3MiOnsidHJpZ2dlcl91
        cmwiOiJodHRwczovL3d3dy5nb29nbGUuY29tIn0sImRlcGxveV9zdGF0dXMi
        OiJ1bnN0YXJ0ZWQiLCJmcm9udGVuZF91cmwiOm51bGwsImxhc3RfYnVpbGRf
        YXQiOm51bGwsImxhc3RfZGVwbG95X2F0IjpudWxsLCJzY3JhcGVfc3RhdHVz
        IjoidW5zdGFydGVkIiwic3BpZGVyX2VuYWJsZWQiOmZhbHNlLCJ3ZWJob29r
        X3Rva2VuIjoiNmY0ODhmYmU2YzM5N2FkYTU1ZTkiLCJ3ZWJob29rX3VybCI6
        Imh0dHBzOi8vLzZmNDg4ZmJlNmMzOTdhZGE1NWU5L2RlcGxveS1yZXN1bHRz
        IiwiYnVpbGRfb25fc2NoZWR1bGVkX3B1YmxpY2F0aW9ucyI6ZmFsc2V9fX0=
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:45:05 GMT
- request:
    method: get
    uri: http://site-api.lvh.me:3001/deployment-environments
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 4a51093916ffcb0e1bd7406978a6da
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Api-Version:
      - '2'
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept-Encoding
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '19'
      Etag:
      - W/"af8c20b550fc235cf8adc667232d2f25"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c9c01d3b-d93c-4598-81cd-cff8f92e7d77
      X-Runtime:
      - '0.028609'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      base64_string: |
        eyJkYXRhIjpbeyJpZCI6IjQxMDgiLCJ0eXBlIjoiZGVwbG95bWVudF9lbnZp
        cm9ubWVudCIsImF0dHJpYnV0ZXMiOnsibmFtZSI6IkZvbyIsImRlcGxveV9h
        ZGFwdGVyIjoiY3VzdG9tIiwiZGVwbG95X3NldHRpbmdzIjp7InRyaWdnZXJf
        dXJsIjoiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbSJ9LCJkZXBsb3lfc3RhdHVz
        IjoidW5zdGFydGVkIiwiZnJvbnRlbmRfdXJsIjpudWxsLCJsYXN0X2J1aWxk
        X2F0IjpudWxsLCJsYXN0X2RlcGxveV9hdCI6bnVsbCwic2NyYXBlX3N0YXR1
        cyI6InVuc3RhcnRlZCIsInNwaWRlcl9lbmFibGVkIjpmYWxzZSwid2ViaG9v
        a190b2tlbiI6IjZmNDg4ZmJlNmMzOTdhZGE1NWU5Iiwid2ViaG9va191cmwi
        OiJodHRwczovLy82ZjQ4OGZiZTZjMzk3YWRhNTVlOS9kZXBsb3ktcmVzdWx0
        cyIsImJ1aWxkX29uX3NjaGVkdWxlZF9wdWJsaWNhdGlvbnMiOmZhbHNlfX1d
        fQ==
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:45:05 GMT
- request:
    method: post
    uri: http://site-api.lvh.me:3001/deployment-environments/4108/trigger
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Authorization:
      - Bearer 4a51093916ffcb0e1bd7406978a6da
      User-Agent:
      - ruby-client v0.7.0
      X-Api-Version:
      - '2'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 204
      message: No Content
    headers:
      X-Api-Version:
      - '2'
      X-Ratelimit-Limit:
      - '30'
      X-Ratelimit-Remaining:
      - '18'
      Cache-Control:
      - no-cache
      X-Request-Id:
      - a36062dc-79ce-48ad-932a-b62d963673fd
      X-Runtime:
      - '0.027031'
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Headers:
      - authorization, content-type, x-site-domain, x-api-version, user-agent
      Access-Control-Allow-Methods:
      - GET, POST, PUT, OPTIONS, DELETE
      Access-Control-Expose-Headers:
      - x-ratelimit-limit, x-ratelimit-remaining, x-ratelimit-reset
      Access-Control-Max-Age:
      - '1728000'
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Wed, 27 Mar 2019 10:45:05 GMT
recorded_with: VCR 4.0.0
